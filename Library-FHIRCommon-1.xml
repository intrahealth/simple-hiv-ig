<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1">
   <annotation translatorOptions="EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion" xsi:type="a:CqlToElmInfo"/>
   <identifier id="FHIRCommon" system="https://github.com/intrahealth/simple-hiv-ig" version="4.0.1"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="1" locator="7:1-7:26" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="1">
               <a:s>using FHIR version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
   </usings>
   <includes>
      <def localId="2" locator="9:1-9:35" localIdentifier="FHIRHelpers" path="http://hl7.org/fhir/FHIRHelpers" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="2">
               <a:s>include </a:s>
               <a:s>
                  <a:s>FHIRHelpers</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
   </includes>
   <codeSystems>
      <def localId="3" locator="11:1-11:38" name="LOINC" id="http://loinc.org" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3">
               <a:s>codesystem &quot;LOINC&quot;: 'http://loinc.org'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="4" locator="12:1-12:47" name="SNOMEDCT" id="http://snomed.info/sct" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4">
               <a:s>codesystem &quot;SNOMEDCT&quot;: 'http://snomed.info/sct'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="5" locator="13:1-13:74" name="RoleCode" id="http://terminology.hl7.org/CodeSystem/v3-RoleCode" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5">
               <a:s>codesystem &quot;RoleCode&quot;: 'http://terminology.hl7.org/CodeSystem/v3-RoleCode'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="6" locator="14:1-14:83" name="Diagnosis Role" id="http://terminology.hl7.org/CodeSystem/diagnosis-role" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6">
               <a:s>codesystem &quot;Diagnosis Role&quot;: 'http://terminology.hl7.org/CodeSystem/diagnosis-role'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="7" locator="15:1-15:82" name="RequestIntent" id="http://terminology.hl7.org/CodeSystem/request-intent" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7">
               <a:s>codesystem &quot;RequestIntent&quot;: 'http://terminology.hl7.org/CodeSystem/request-intent'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="8" locator="16:1-16:106" name="MedicationRequestCategory" id="http://terminology.hl7.org/CodeSystem/medicationrequest-category" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8">
               <a:s>codesystem &quot;MedicationRequestCategory&quot;: 'http://terminology.hl7.org/CodeSystem/medicationrequest-category'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="9" locator="17:1-17:101" name="ConditionClinicalStatusCodes" id="http://terminology.hl7.org/CodeSystem/condition-clinical" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9">
               <a:s>codesystem &quot;ConditionClinicalStatusCodes&quot;: 'http://terminology.hl7.org/CodeSystem/condition-clinical'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="10" locator="18:1-18:109" name="ConditionVerificationStatusCodes" id="http://terminology.hl7.org/CodeSystem/condition-verification" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="10">
               <a:s>codesystem &quot;ConditionVerificationStatusCodes&quot;: 'http://terminology.hl7.org/CodeSystem/condition-verification'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="11" locator="19:1-19:119" name="AllergyIntoleranceClinicalStatusCodes" id="http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="11">
               <a:s>codesystem &quot;AllergyIntoleranceClinicalStatusCodes&quot;: 'http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="12" locator="20:1-20:127" name="AllergyIntoleranceVerificationStatusCodes" id="http://terminology.hl7.org/CodeSystem/allergyintolerance-verification" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="12">
               <a:s>codesystem &quot;AllergyIntoleranceVerificationStatusCodes&quot;: 'http://terminology.hl7.org/CodeSystem/allergyintolerance-verification'</a:s>
            </a:s>
         </annotation>
      </def>
   </codeSystems>
   <valueSets>
      <def localId="13" locator="22:1-22:94" name="Active Condition" id="http://fhir.org/guides/cqf/cqf-common/ValueSet/active-condition" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="13">
               <a:s>valueset &quot;Active Condition&quot;: 'http://fhir.org/guides/cqf/cqf-common/ValueSet/active-condition'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="14" locator="23:1-23:98" name="Inactive Condition" id="http://fhir.org/guides/cqf/cqf-common/ValueSet/inactive-condition" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="14">
               <a:s>valueset &quot;Inactive Condition&quot;: 'http://fhir.org/guides/cqf/cqf-common/ValueSet/inactive-condition'</a:s>
            </a:s>
         </annotation>
      </def>
   </valueSets>
   <codes>
      <def localId="16" locator="25:1-25:61" name="Birthdate" id="21112-8" display="Birth date" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="16">
               <a:s>code &quot;Birthdate&quot;: '21112-8' from </a:s>
               <a:s r="15">
                  <a:s>&quot;LOINC&quot;</a:s>
               </a:s>
               <a:s> display 'Birth date'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="15" locator="25:34-25:40" name="LOINC"/>
      </def>
      <def localId="18" locator="26:1-26:55" name="Dead" id="419099009" display="Dead" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="18">
               <a:s>code &quot;Dead&quot;: '419099009' from </a:s>
               <a:s r="17">
                  <a:s>&quot;SNOMEDCT&quot;</a:s>
               </a:s>
               <a:s> display 'Dead'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="17" locator="26:31-26:40" name="SNOMEDCT"/>
      </def>
      <def localId="20" locator="27:1-27:56" name="ER" id="ER" display="Emergency room" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="20">
               <a:s>code &quot;ER&quot;: 'ER' from </a:s>
               <a:s r="19">
                  <a:s>&quot;RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'Emergency room'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="19" locator="27:22-27:31" name="RoleCode"/>
      </def>
      <def localId="22" locator="28:1-28:63" name="ICU" id="ICU" display="Intensive care unit" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="22">
               <a:s>code &quot;ICU&quot;: 'ICU' from </a:s>
               <a:s r="21">
                  <a:s>&quot;RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'Intensive care unit'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="21" locator="28:24-28:33" name="RoleCode"/>
      </def>
      <def localId="24" locator="29:1-29:65" name="Billing" id="billing" display="Billing" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="24">
               <a:s>code &quot;Billing&quot;: 'billing' from </a:s>
               <a:s r="23">
                  <a:s>&quot;Diagnosis Role&quot;</a:s>
               </a:s>
               <a:s> display 'Billing'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="23" locator="29:32-29:47" name="Diagnosis Role"/>
      </def>
      <def localId="26" locator="32:1-32:59" name="active" id="active" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="26">
               <a:s>code &quot;active&quot;: 'active' from </a:s>
               <a:s r="25">
                  <a:s>&quot;ConditionClinicalStatusCodes&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <codeSystem localId="25" locator="32:30-32:59" name="ConditionClinicalStatusCodes"/>
      </def>
      <def localId="28" locator="33:1-33:67" name="recurrence" id="recurrence" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="28">
               <a:s>code &quot;recurrence&quot;: 'recurrence' from </a:s>
               <a:s r="27">
                  <a:s>&quot;ConditionClinicalStatusCodes&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <codeSystem localId="27" locator="33:38-33:67" name="ConditionClinicalStatusCodes"/>
      </def>
      <def localId="30" locator="34:1-34:61" name="relapse" id="relapse" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="30">
               <a:s>code &quot;relapse&quot;: 'relapse' from </a:s>
               <a:s r="29">
                  <a:s>&quot;ConditionClinicalStatusCodes&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <codeSystem localId="29" locator="34:32-34:61" name="ConditionClinicalStatusCodes"/>
      </def>
      <def localId="32" locator="35:1-35:63" name="inactive" id="inactive" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="32">
               <a:s>code &quot;inactive&quot;: 'inactive' from </a:s>
               <a:s r="31">
                  <a:s>&quot;ConditionClinicalStatusCodes&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <codeSystem localId="31" locator="35:34-35:63" name="ConditionClinicalStatusCodes"/>
      </def>
      <def localId="34" locator="36:1-36:65" name="remission" id="remission" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="34">
               <a:s>code &quot;remission&quot;: 'remission' from </a:s>
               <a:s r="33">
                  <a:s>&quot;ConditionClinicalStatusCodes&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <codeSystem localId="33" locator="36:36-36:65" name="ConditionClinicalStatusCodes"/>
      </def>
      <def localId="36" locator="37:1-37:63" name="resolved" id="resolved" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="36">
               <a:s>code &quot;resolved&quot;: 'resolved' from </a:s>
               <a:s r="35">
                  <a:s>&quot;ConditionClinicalStatusCodes&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <codeSystem localId="35" locator="37:34-37:63" name="ConditionClinicalStatusCodes"/>
      </def>
      <def localId="38" locator="40:1-40:71" name="unconfirmed" id="unconfirmed" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="38">
               <a:s>code &quot;unconfirmed&quot;: 'unconfirmed' from </a:s>
               <a:s r="37">
                  <a:s>ConditionVerificationStatusCodes</a:s>
               </a:s>
            </a:s>
         </annotation>
         <codeSystem localId="37" locator="40:40-40:71" name="ConditionVerificationStatusCodes"/>
      </def>
      <def localId="40" locator="41:1-41:71" name="provisional" id="provisional" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="40">
               <a:s>code &quot;provisional&quot;: 'provisional' from </a:s>
               <a:s r="39">
                  <a:s>ConditionVerificationStatusCodes</a:s>
               </a:s>
            </a:s>
         </annotation>
         <codeSystem localId="39" locator="41:40-41:71" name="ConditionVerificationStatusCodes"/>
      </def>
      <def localId="42" locator="42:1-42:73" name="differential" id="differential" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="42">
               <a:s>code &quot;differential&quot;: 'differential' from </a:s>
               <a:s r="41">
                  <a:s>ConditionVerificationStatusCodes</a:s>
               </a:s>
            </a:s>
         </annotation>
         <codeSystem localId="41" locator="42:42-42:73" name="ConditionVerificationStatusCodes"/>
      </def>
      <def localId="44" locator="43:1-43:67" name="confirmed" id="confirmed" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="44">
               <a:s>code &quot;confirmed&quot;: 'confirmed' from </a:s>
               <a:s r="43">
                  <a:s>ConditionVerificationStatusCodes</a:s>
               </a:s>
            </a:s>
         </annotation>
         <codeSystem localId="43" locator="43:36-43:67" name="ConditionVerificationStatusCodes"/>
      </def>
      <def localId="46" locator="44:1-44:63" name="refuted" id="refuted" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="46">
               <a:s>code &quot;refuted&quot;: 'refuted' from </a:s>
               <a:s r="45">
                  <a:s>ConditionVerificationStatusCodes</a:s>
               </a:s>
            </a:s>
         </annotation>
         <codeSystem localId="45" locator="44:32-44:63" name="ConditionVerificationStatusCodes"/>
      </def>
      <def localId="48" locator="45:1-45:81" name="entered-in-error" id="entered-in-error" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="48">
               <a:s>code &quot;entered-in-error&quot;: 'entered-in-error' from </a:s>
               <a:s r="47">
                  <a:s>ConditionVerificationStatusCodes</a:s>
               </a:s>
            </a:s>
         </annotation>
         <codeSystem localId="47" locator="45:50-45:81" name="ConditionVerificationStatusCodes"/>
      </def>
      <def localId="50" locator="47:1-47:76" name="allergy-active" id="active" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="50">
               <a:s>code &quot;allergy-active&quot;: 'active' from </a:s>
               <a:s r="49">
                  <a:s>&quot;AllergyIntoleranceClinicalStatusCodes&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <codeSystem localId="49" locator="47:38-47:76" name="AllergyIntoleranceClinicalStatusCodes"/>
      </def>
      <def localId="52" locator="48:1-48:80" name="allergy-inactive" id="inactive" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="52">
               <a:s>code &quot;allergy-inactive&quot;: 'inactive' from </a:s>
               <a:s r="51">
                  <a:s>&quot;AllergyIntoleranceClinicalStatusCodes&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <codeSystem localId="51" locator="48:42-48:80" name="AllergyIntoleranceClinicalStatusCodes"/>
      </def>
      <def localId="54" locator="49:1-49:80" name="allergy-resolved" id="resolved" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="54">
               <a:s>code &quot;allergy-resolved&quot;: 'resolved' from </a:s>
               <a:s r="53">
                  <a:s>&quot;AllergyIntoleranceClinicalStatusCodes&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <codeSystem localId="53" locator="49:42-49:80" name="AllergyIntoleranceClinicalStatusCodes"/>
      </def>
      <def localId="56" locator="52:1-52:88" name="allergy-unconfirmed" id="unconfirmed" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="56">
               <a:s>code &quot;allergy-unconfirmed&quot;: 'unconfirmed' from </a:s>
               <a:s r="55">
                  <a:s>AllergyIntoleranceVerificationStatusCodes</a:s>
               </a:s>
            </a:s>
         </annotation>
         <codeSystem localId="55" locator="52:48-52:88" name="AllergyIntoleranceVerificationStatusCodes"/>
      </def>
      <def localId="58" locator="53:1-53:84" name="allergy-confirmed" id="confirmed" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="58">
               <a:s>code &quot;allergy-confirmed&quot;: 'confirmed' from </a:s>
               <a:s r="57">
                  <a:s>AllergyIntoleranceVerificationStatusCodes</a:s>
               </a:s>
            </a:s>
         </annotation>
         <codeSystem localId="57" locator="53:44-53:84" name="AllergyIntoleranceVerificationStatusCodes"/>
      </def>
      <def localId="60" locator="54:1-54:80" name="allergy-refuted" id="refuted" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="60">
               <a:s>code &quot;allergy-refuted&quot;: 'refuted' from </a:s>
               <a:s r="59">
                  <a:s>AllergyIntoleranceVerificationStatusCodes</a:s>
               </a:s>
            </a:s>
         </annotation>
         <codeSystem localId="59" locator="54:40-54:80" name="AllergyIntoleranceVerificationStatusCodes"/>
      </def>
      <def localId="62" locator="57:1-57:82" name="Community" id="community" display="Community" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="62">
               <a:s>code &quot;Community&quot;: 'community' from </a:s>
               <a:s r="61">
                  <a:s>&quot;MedicationRequestCategory&quot;</a:s>
               </a:s>
               <a:s> display 'Community'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="61" locator="57:36-57:62" name="MedicationRequestCategory"/>
      </def>
      <def localId="64" locator="58:1-58:82" name="Discharge" id="discharge" display="Discharge" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="64">
               <a:s>code &quot;Discharge&quot;: 'discharge' from </a:s>
               <a:s r="63">
                  <a:s>&quot;MedicationRequestCategory&quot;</a:s>
               </a:s>
               <a:s> display 'Discharge'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="63" locator="58:36-58:62" name="MedicationRequestCategory"/>
      </def>
   </codes>
   <contexts>
      <def locator="60:1-60:15" name="Patient"/>
   </contexts>
   <statements>
      <def locator="60:1-60:15" name="Patient" context="Patient">
         <expression xsi:type="SingletonFrom">
            <operand locator="60:1-60:15" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="199" locator="70:1-90:4" name="ToInterval" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="199">
               <a:s>define function ToInterval(choice </a:s>
               <a:s r="72">
                  <a:s>Choice&lt;</a:s>
                  <a:s r="65">
                     <a:s>FHIR.dateTime</a:s>
                  </a:s>
                  <a:s>, </a:s>
                  <a:s r="66">
                     <a:s>FHIR.Period</a:s>
                  </a:s>
                  <a:s>, </a:s>
                  <a:s r="67">
                     <a:s>FHIR.Timing</a:s>
                  </a:s>
                  <a:s>, </a:s>
                  <a:s r="68">
                     <a:s>FHIR.instant</a:s>
                  </a:s>
                  <a:s>, </a:s>
                  <a:s r="69">
                     <a:s>FHIR.string</a:s>
                  </a:s>
                  <a:s>, </a:s>
                  <a:s r="70">
                     <a:s>FHIR.Age</a:s>
                  </a:s>
                  <a:s>, </a:s>
                  <a:s r="71">
                     <a:s>FHIR.Range</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="198">
                  <a:s r="198">
                     <a:s>case
	  </a:s>
                     <a:s r="87">
                        <a:s>when </a:s>
                        <a:s r="75">
                           <a:s r="73">
                              <a:s>choice</a:s>
                           </a:s>
                           <a:s> is </a:s>
                           <a:s r="74">
                              <a:s>FHIR.dateTime</a:s>
                           </a:s>
                        </a:s>
                        <a:s> then
    	</a:s>
                        <a:s r="86">
                           <a:s>Interval[</a:s>
                           <a:s r="80">
                              <a:s r="76">
                                 <a:s>FHIRHelpers</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="80">
                                 <a:s>ToDateTime(</a:s>
                                 <a:s r="79">
                                    <a:s r="77">
                                       <a:s>choice</a:s>
                                    </a:s>
                                    <a:s> as </a:s>
                                    <a:s r="78">
                                       <a:s>FHIR.dateTime</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="85">
                              <a:s r="81">
                                 <a:s>FHIRHelpers</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="85">
                                 <a:s>ToDateTime(</a:s>
                                 <a:s r="84">
                                    <a:s r="82">
                                       <a:s>choice</a:s>
                                    </a:s>
                                    <a:s> as </a:s>
                                    <a:s r="83">
                                       <a:s>FHIR.dateTime</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s>]</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
		</a:s>
                     <a:s r="96">
                        <a:s>when </a:s>
                        <a:s r="90">
                           <a:s r="88">
                              <a:s>choice</a:s>
                           </a:s>
                           <a:s> is </a:s>
                           <a:s r="89">
                              <a:s>FHIR.Period</a:s>
                           </a:s>
                        </a:s>
                        <a:s> then
  		</a:s>
                        <a:s r="95">
                           <a:s r="91">
                              <a:s>FHIRHelpers</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="95">
                              <a:s>ToInterval(</a:s>
                              <a:s r="94">
                                 <a:s r="92">
                                    <a:s>choice</a:s>
                                 </a:s>
                                 <a:s> as </a:s>
                                 <a:s r="93">
                                    <a:s>FHIR.Period</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
		</a:s>
                     <a:s r="111">
                        <a:s>when </a:s>
                        <a:s r="99">
                           <a:s r="97">
                              <a:s>choice</a:s>
                           </a:s>
                           <a:s> is </a:s>
                           <a:s r="98">
                              <a:s>FHIR.instant</a:s>
                           </a:s>
                        </a:s>
                        <a:s> then
			</a:s>
                        <a:s r="110">
                           <a:s>Interval[</a:s>
                           <a:s r="104">
                              <a:s r="100">
                                 <a:s>FHIRHelpers</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="104">
                                 <a:s>ToDateTime(</a:s>
                                 <a:s r="103">
                                    <a:s r="101">
                                       <a:s>choice</a:s>
                                    </a:s>
                                    <a:s> as </a:s>
                                    <a:s r="102">
                                       <a:s>FHIR.instant</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="109">
                              <a:s r="105">
                                 <a:s>FHIRHelpers</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="109">
                                 <a:s>ToDateTime(</a:s>
                                 <a:s r="108">
                                    <a:s r="106">
                                       <a:s>choice</a:s>
                                    </a:s>
                                    <a:s> as </a:s>
                                    <a:s r="107">
                                       <a:s>FHIR.instant</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s>]</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
		</a:s>
                     <a:s r="138">
                        <a:s>when </a:s>
                        <a:s r="114">
                           <a:s r="112">
                              <a:s>choice</a:s>
                           </a:s>
                           <a:s> is </a:s>
                           <a:s r="113">
                              <a:s>FHIR.Age</a:s>
                           </a:s>
                        </a:s>
                        <a:s> then
		  </a:s>
                        <a:s r="137">
                           <a:s>Interval[</a:s>
                           <a:s r="124">
                              <a:s r="118">
                                 <a:s r="115">
                                    <a:s>FHIRHelpers</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="118">
                                    <a:s>ToDate(</a:s>
                                    <a:s r="117">
                                       <a:s r="116">
                                          <a:s>Patient</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="117">
                                          <a:s>birthDate</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> + </a:s>
                              <a:s r="123">
                                 <a:s r="119">
                                    <a:s>FHIRHelpers</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="123">
                                    <a:s>ToQuantity(</a:s>
                                    <a:s r="122">
                                       <a:s r="120">
                                          <a:s>choice</a:s>
                                       </a:s>
                                       <a:s> as </a:s>
                                       <a:s r="121">
                                          <a:s>FHIR.Age</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>,
			  </a:s>
                           <a:s r="136">
                              <a:s r="134">
                                 <a:s r="128">
                                    <a:s r="125">
                                       <a:s>FHIRHelpers</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="128">
                                       <a:s>ToDate(</a:s>
                                       <a:s r="127">
                                          <a:s r="126">
                                             <a:s>Patient</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="127">
                                             <a:s>birthDate</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> + </a:s>
                                 <a:s r="133">
                                    <a:s r="129">
                                       <a:s>FHIRHelpers</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="133">
                                       <a:s>ToQuantity(</a:s>
                                       <a:s r="132">
                                          <a:s r="130">
                                             <a:s>choice</a:s>
                                          </a:s>
                                          <a:s> as </a:s>
                                          <a:s r="131">
                                             <a:s>FHIR.Age</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s> + </a:s>
                              <a:s r="135">
                                 <a:s>1 year</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
		</a:s>
                     <a:s r="167">
                        <a:s>when </a:s>
                        <a:s r="141">
                           <a:s r="139">
                              <a:s>choice</a:s>
                           </a:s>
                           <a:s> is </a:s>
                           <a:s r="140">
                              <a:s>FHIR.Range</a:s>
                           </a:s>
                        </a:s>
                        <a:s> then
		  </a:s>
                        <a:s r="166">
                           <a:s>Interval[</a:s>
                           <a:s r="152">
                              <a:s r="145">
                                 <a:s r="142">
                                    <a:s>FHIRHelpers</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="145">
                                    <a:s>ToDate(</a:s>
                                    <a:s r="144">
                                       <a:s r="143">
                                          <a:s>Patient</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="144">
                                          <a:s>birthDate</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> + </a:s>
                              <a:s r="151">
                                 <a:s r="146">
                                    <a:s>FHIRHelpers</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="151">
                                    <a:s>ToQuantity(</a:s>
                                    <a:s r="150">
                                       <a:s r="149">
                                          <a:s>(</a:s>
                                          <a:s r="149">
                                             <a:s r="147">
                                                <a:s>choice</a:s>
                                             </a:s>
                                             <a:s> as </a:s>
                                             <a:s r="148">
                                                <a:s>FHIR.Range</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="150">
                                          <a:s>low</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>,
			  </a:s>
                           <a:s r="165">
                              <a:s r="163">
                                 <a:s r="156">
                                    <a:s r="153">
                                       <a:s>FHIRHelpers</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="156">
                                       <a:s>ToDate(</a:s>
                                       <a:s r="155">
                                          <a:s r="154">
                                             <a:s>Patient</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="155">
                                             <a:s>birthDate</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> + </a:s>
                                 <a:s r="162">
                                    <a:s r="157">
                                       <a:s>FHIRHelpers</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="162">
                                       <a:s>ToQuantity(</a:s>
                                       <a:s r="161">
                                          <a:s r="160">
                                             <a:s>(</a:s>
                                             <a:s r="160">
                                                <a:s r="158">
                                                   <a:s>choice</a:s>
                                                </a:s>
                                                <a:s> as </a:s>
                                                <a:s r="159">
                                                   <a:s>FHIR.Range</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="161">
                                             <a:s>high</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s> + </a:s>
                              <a:s r="164">
                                 <a:s>1 year</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
		</a:s>
                     <a:s r="180">
                        <a:s>when </a:s>
                        <a:s r="170">
                           <a:s r="168">
                              <a:s>choice</a:s>
                           </a:s>
                           <a:s> is </a:s>
                           <a:s r="169">
                              <a:s>FHIR.Timing</a:s>
                           </a:s>
                        </a:s>
                        <a:s> then
		  </a:s>
                        <a:s r="179">
                           <a:s>Message(</a:s>
                           <a:s r="174">
                              <a:s r="171">null as </a:s>
                              <a:s r="173">
                                 <a:s>Interval&lt;</a:s>
                                 <a:s r="172">
                                    <a:s>DateTime</a:s>
                                 </a:s>
                                 <a:s>></a:s>
                              </a:s>
                           </a:s>
                           <a:s r="175">, true, </a:s>
                           <a:s r="176">
                              <a:s>'1'</a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="177">
                              <a:s>'Error'</a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="178">
                              <a:s>'Cannot compute a single interval from a Timing type'</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="193">
                        <a:s>when </a:s>
                        <a:s r="183">
                           <a:s r="181">
                              <a:s>choice</a:s>
                           </a:s>
                           <a:s> is </a:s>
                           <a:s r="182">
                              <a:s>FHIR.string</a:s>
                           </a:s>
                        </a:s>
                        <a:s> then
      </a:s>
                        <a:s r="192">
                           <a:s>Message(</a:s>
                           <a:s r="187">
                              <a:s r="184">null as </a:s>
                              <a:s r="186">
                                 <a:s>Interval&lt;</a:s>
                                 <a:s r="185">
                                    <a:s>DateTime</a:s>
                                 </a:s>
                                 <a:s>></a:s>
                              </a:s>
                           </a:s>
                           <a:s r="188">, true, </a:s>
                           <a:s r="189">
                              <a:s>'1'</a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="190">
                              <a:s>'Error'</a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="191">
                              <a:s>'Cannot compute an interval from a String value'</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
		else
			</a:s>
                     <a:s r="197">
                        <a:s r="194">null as </a:s>
                        <a:s r="196">
                           <a:s>Interval&lt;</a:s>
                           <a:s r="195">
                              <a:s>DateTime</a:s>
                           </a:s>
                           <a:s>></a:s>
                        </a:s>
                     </a:s>
                     <a:s>
	end</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="198" locator="71:3-90:4" xsi:type="Case">
            <caseItem localId="87" locator="72:4-73:111">
               <when localId="75" locator="72:9-72:31" xsi:type="Is">
                  <operand localId="73" locator="72:9-72:14" name="choice" xsi:type="OperandRef"/>
                  <isTypeSpecifier localId="74" locator="72:19-72:31" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
               </when>
               <then localId="86" locator="73:6-73:111" lowClosed="true" highClosed="true" xsi:type="Interval">
                  <low localId="80" locator="73:15-73:61" name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="79" locator="73:38-73:60" strict="false" xsi:type="As">
                        <operand localId="77" locator="73:38-73:43" name="choice" xsi:type="OperandRef"/>
                        <asTypeSpecifier localId="78" locator="73:48-73:60" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                     </operand>
                  </low>
                  <high localId="85" locator="73:64-73:110" name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="84" locator="73:87-73:109" strict="false" xsi:type="As">
                        <operand localId="82" locator="73:87-73:92" name="choice" xsi:type="OperandRef"/>
                        <asTypeSpecifier localId="83" locator="73:97-73:109" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                     </operand>
                  </high>
               </then>
            </caseItem>
            <caseItem localId="96" locator="74:3-75:49">
               <when localId="90" locator="74:8-74:28" xsi:type="Is">
                  <operand localId="88" locator="74:8-74:13" name="choice" xsi:type="OperandRef"/>
                  <isTypeSpecifier localId="89" locator="74:18-74:28" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
               </when>
               <then localId="95" locator="75:5-75:49" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand localId="94" locator="75:28-75:48" strict="false" xsi:type="As">
                     <operand localId="92" locator="75:28-75:33" name="choice" xsi:type="OperandRef"/>
                     <asTypeSpecifier localId="93" locator="75:38-75:48" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                  </operand>
               </then>
            </caseItem>
            <caseItem localId="111" locator="76:3-77:107">
               <when localId="99" locator="76:8-76:29" xsi:type="Is">
                  <operand localId="97" locator="76:8-76:13" name="choice" xsi:type="OperandRef"/>
                  <isTypeSpecifier localId="98" locator="76:18-76:29" name="fhir:instant" xsi:type="NamedTypeSpecifier"/>
               </when>
               <then localId="110" locator="77:4-77:107" lowClosed="true" highClosed="true" xsi:type="Interval">
                  <low localId="104" locator="77:13-77:58" name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="103" locator="77:36-77:57" strict="false" xsi:type="As">
                        <operand localId="101" locator="77:36-77:41" name="choice" xsi:type="OperandRef"/>
                        <asTypeSpecifier localId="102" locator="77:46-77:57" name="fhir:instant" xsi:type="NamedTypeSpecifier"/>
                     </operand>
                  </low>
                  <high localId="109" locator="77:61-77:106" name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="108" locator="77:84-77:105" strict="false" xsi:type="As">
                        <operand localId="106" locator="77:84-77:89" name="choice" xsi:type="OperandRef"/>
                        <asTypeSpecifier localId="107" locator="77:94-77:105" name="fhir:instant" xsi:type="NamedTypeSpecifier"/>
                     </operand>
                  </high>
               </then>
            </caseItem>
            <caseItem localId="138" locator="78:3-80:97">
               <when localId="114" locator="78:8-78:25" xsi:type="Is">
                  <operand localId="112" locator="78:8-78:13" name="choice" xsi:type="OperandRef"/>
                  <isTypeSpecifier localId="113" locator="78:18-78:25" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
               </when>
               <then xsi:type="Interval">
                  <low xsi:type="ToDateTime">
                     <operand path="low" xsi:type="Property">
                        <source localId="137" locator="79:5-80:97" lowClosed="true" highClosed="false" xsi:type="Interval">
                           <low localId="124" locator="79:14-79:95" xsi:type="Add">
                              <operand localId="118" locator="79:14-79:50" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="117" locator="79:33-79:49" path="birthDate" xsi:type="Property">
                                    <source localId="116" locator="79:33-79:39" name="Patient" xsi:type="ExpressionRef"/>
                                 </operand>
                              </operand>
                              <operand localId="123" locator="79:54-79:95" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="122" locator="79:77-79:94" strict="false" xsi:type="As">
                                    <operand localId="120" locator="79:77-79:82" name="choice" xsi:type="OperandRef"/>
                                    <asTypeSpecifier localId="121" locator="79:87-79:94" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                                 </operand>
                              </operand>
                           </low>
                           <high localId="136" locator="80:6-80:96" xsi:type="Add">
                              <operand localId="134" locator="80:6-80:87" xsi:type="Add">
                                 <operand localId="128" locator="80:6-80:42" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="127" locator="80:25-80:41" path="birthDate" xsi:type="Property">
                                       <source localId="126" locator="80:25-80:31" name="Patient" xsi:type="ExpressionRef"/>
                                    </operand>
                                 </operand>
                                 <operand localId="133" locator="80:46-80:87" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="132" locator="80:69-80:86" strict="false" xsi:type="As">
                                       <operand localId="130" locator="80:69-80:74" name="choice" xsi:type="OperandRef"/>
                                       <asTypeSpecifier localId="131" locator="80:79-80:86" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                                    </operand>
                                 </operand>
                              </operand>
                              <operand localId="135" locator="80:91-80:96" value="1" unit="year" xsi:type="Quantity"/>
                           </high>
                        </source>
                     </operand>
                  </low>
                  <lowClosedExpression path="lowClosed" xsi:type="Property">
                     <source localId="137" locator="79:5-80:97" lowClosed="true" highClosed="false" xsi:type="Interval">
                        <low localId="124" locator="79:14-79:95" xsi:type="Add">
                           <operand localId="118" locator="79:14-79:50" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="117" locator="79:33-79:49" path="birthDate" xsi:type="Property">
                                 <source localId="116" locator="79:33-79:39" name="Patient" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                           <operand localId="123" locator="79:54-79:95" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="122" locator="79:77-79:94" strict="false" xsi:type="As">
                                 <operand localId="120" locator="79:77-79:82" name="choice" xsi:type="OperandRef"/>
                                 <asTypeSpecifier localId="121" locator="79:87-79:94" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                              </operand>
                           </operand>
                        </low>
                        <high localId="136" locator="80:6-80:96" xsi:type="Add">
                           <operand localId="134" locator="80:6-80:87" xsi:type="Add">
                              <operand localId="128" locator="80:6-80:42" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="127" locator="80:25-80:41" path="birthDate" xsi:type="Property">
                                    <source localId="126" locator="80:25-80:31" name="Patient" xsi:type="ExpressionRef"/>
                                 </operand>
                              </operand>
                              <operand localId="133" locator="80:46-80:87" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="132" locator="80:69-80:86" strict="false" xsi:type="As">
                                    <operand localId="130" locator="80:69-80:74" name="choice" xsi:type="OperandRef"/>
                                    <asTypeSpecifier localId="131" locator="80:79-80:86" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                                 </operand>
                              </operand>
                           </operand>
                           <operand localId="135" locator="80:91-80:96" value="1" unit="year" xsi:type="Quantity"/>
                        </high>
                     </source>
                  </lowClosedExpression>
                  <high xsi:type="ToDateTime">
                     <operand path="high" xsi:type="Property">
                        <source localId="137" locator="79:5-80:97" lowClosed="true" highClosed="false" xsi:type="Interval">
                           <low localId="124" locator="79:14-79:95" xsi:type="Add">
                              <operand localId="118" locator="79:14-79:50" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="117" locator="79:33-79:49" path="birthDate" xsi:type="Property">
                                    <source localId="116" locator="79:33-79:39" name="Patient" xsi:type="ExpressionRef"/>
                                 </operand>
                              </operand>
                              <operand localId="123" locator="79:54-79:95" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="122" locator="79:77-79:94" strict="false" xsi:type="As">
                                    <operand localId="120" locator="79:77-79:82" name="choice" xsi:type="OperandRef"/>
                                    <asTypeSpecifier localId="121" locator="79:87-79:94" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                                 </operand>
                              </operand>
                           </low>
                           <high localId="136" locator="80:6-80:96" xsi:type="Add">
                              <operand localId="134" locator="80:6-80:87" xsi:type="Add">
                                 <operand localId="128" locator="80:6-80:42" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="127" locator="80:25-80:41" path="birthDate" xsi:type="Property">
                                       <source localId="126" locator="80:25-80:31" name="Patient" xsi:type="ExpressionRef"/>
                                    </operand>
                                 </operand>
                                 <operand localId="133" locator="80:46-80:87" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="132" locator="80:69-80:86" strict="false" xsi:type="As">
                                       <operand localId="130" locator="80:69-80:74" name="choice" xsi:type="OperandRef"/>
                                       <asTypeSpecifier localId="131" locator="80:79-80:86" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                                    </operand>
                                 </operand>
                              </operand>
                              <operand localId="135" locator="80:91-80:96" value="1" unit="year" xsi:type="Quantity"/>
                           </high>
                        </source>
                     </operand>
                  </high>
                  <highClosedExpression path="highClosed" xsi:type="Property">
                     <source localId="137" locator="79:5-80:97" lowClosed="true" highClosed="false" xsi:type="Interval">
                        <low localId="124" locator="79:14-79:95" xsi:type="Add">
                           <operand localId="118" locator="79:14-79:50" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="117" locator="79:33-79:49" path="birthDate" xsi:type="Property">
                                 <source localId="116" locator="79:33-79:39" name="Patient" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                           <operand localId="123" locator="79:54-79:95" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="122" locator="79:77-79:94" strict="false" xsi:type="As">
                                 <operand localId="120" locator="79:77-79:82" name="choice" xsi:type="OperandRef"/>
                                 <asTypeSpecifier localId="121" locator="79:87-79:94" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                              </operand>
                           </operand>
                        </low>
                        <high localId="136" locator="80:6-80:96" xsi:type="Add">
                           <operand localId="134" locator="80:6-80:87" xsi:type="Add">
                              <operand localId="128" locator="80:6-80:42" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="127" locator="80:25-80:41" path="birthDate" xsi:type="Property">
                                    <source localId="126" locator="80:25-80:31" name="Patient" xsi:type="ExpressionRef"/>
                                 </operand>
                              </operand>
                              <operand localId="133" locator="80:46-80:87" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="132" locator="80:69-80:86" strict="false" xsi:type="As">
                                    <operand localId="130" locator="80:69-80:74" name="choice" xsi:type="OperandRef"/>
                                    <asTypeSpecifier localId="131" locator="80:79-80:86" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                                 </operand>
                              </operand>
                           </operand>
                           <operand localId="135" locator="80:91-80:96" value="1" unit="year" xsi:type="Quantity"/>
                        </high>
                     </source>
                  </highClosedExpression>
               </then>
            </caseItem>
            <caseItem localId="167" locator="81:3-83:106">
               <when localId="141" locator="81:8-81:27" xsi:type="Is">
                  <operand localId="139" locator="81:8-81:13" name="choice" xsi:type="OperandRef"/>
                  <isTypeSpecifier localId="140" locator="81:18-81:27" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
               </when>
               <then xsi:type="Interval">
                  <low xsi:type="ToDateTime">
                     <operand path="low" xsi:type="Property">
                        <source localId="166" locator="82:5-83:106" lowClosed="true" highClosed="false" xsi:type="Interval">
                           <low localId="152" locator="82:14-82:103" xsi:type="Add">
                              <operand localId="145" locator="82:14-82:50" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="144" locator="82:33-82:49" path="birthDate" xsi:type="Property">
                                    <source localId="143" locator="82:33-82:39" name="Patient" xsi:type="ExpressionRef"/>
                                 </operand>
                              </operand>
                              <operand localId="151" locator="82:54-82:103" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="150" locator="82:77-82:102" path="low" xsi:type="Property">
                                    <source localId="149" locator="82:77-82:98" strict="false" xsi:type="As">
                                       <operand localId="147" locator="82:78-82:83" name="choice" xsi:type="OperandRef"/>
                                       <asTypeSpecifier localId="148" locator="82:88-82:97" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                    </source>
                                 </operand>
                              </operand>
                           </low>
                           <high localId="165" locator="83:6-83:105" xsi:type="Add">
                              <operand localId="163" locator="83:6-83:96" xsi:type="Add">
                                 <operand localId="156" locator="83:6-83:42" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="155" locator="83:25-83:41" path="birthDate" xsi:type="Property">
                                       <source localId="154" locator="83:25-83:31" name="Patient" xsi:type="ExpressionRef"/>
                                    </operand>
                                 </operand>
                                 <operand localId="162" locator="83:46-83:96" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="161" locator="83:69-83:95" path="high" xsi:type="Property">
                                       <source localId="160" locator="83:69-83:90" strict="false" xsi:type="As">
                                          <operand localId="158" locator="83:70-83:75" name="choice" xsi:type="OperandRef"/>
                                          <asTypeSpecifier localId="159" locator="83:80-83:89" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                       </source>
                                    </operand>
                                 </operand>
                              </operand>
                              <operand localId="164" locator="83:100-83:105" value="1" unit="year" xsi:type="Quantity"/>
                           </high>
                        </source>
                     </operand>
                  </low>
                  <lowClosedExpression path="lowClosed" xsi:type="Property">
                     <source localId="166" locator="82:5-83:106" lowClosed="true" highClosed="false" xsi:type="Interval">
                        <low localId="152" locator="82:14-82:103" xsi:type="Add">
                           <operand localId="145" locator="82:14-82:50" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="144" locator="82:33-82:49" path="birthDate" xsi:type="Property">
                                 <source localId="143" locator="82:33-82:39" name="Patient" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                           <operand localId="151" locator="82:54-82:103" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="150" locator="82:77-82:102" path="low" xsi:type="Property">
                                 <source localId="149" locator="82:77-82:98" strict="false" xsi:type="As">
                                    <operand localId="147" locator="82:78-82:83" name="choice" xsi:type="OperandRef"/>
                                    <asTypeSpecifier localId="148" locator="82:88-82:97" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                 </source>
                              </operand>
                           </operand>
                        </low>
                        <high localId="165" locator="83:6-83:105" xsi:type="Add">
                           <operand localId="163" locator="83:6-83:96" xsi:type="Add">
                              <operand localId="156" locator="83:6-83:42" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="155" locator="83:25-83:41" path="birthDate" xsi:type="Property">
                                    <source localId="154" locator="83:25-83:31" name="Patient" xsi:type="ExpressionRef"/>
                                 </operand>
                              </operand>
                              <operand localId="162" locator="83:46-83:96" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="161" locator="83:69-83:95" path="high" xsi:type="Property">
                                    <source localId="160" locator="83:69-83:90" strict="false" xsi:type="As">
                                       <operand localId="158" locator="83:70-83:75" name="choice" xsi:type="OperandRef"/>
                                       <asTypeSpecifier localId="159" locator="83:80-83:89" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                    </source>
                                 </operand>
                              </operand>
                           </operand>
                           <operand localId="164" locator="83:100-83:105" value="1" unit="year" xsi:type="Quantity"/>
                        </high>
                     </source>
                  </lowClosedExpression>
                  <high xsi:type="ToDateTime">
                     <operand path="high" xsi:type="Property">
                        <source localId="166" locator="82:5-83:106" lowClosed="true" highClosed="false" xsi:type="Interval">
                           <low localId="152" locator="82:14-82:103" xsi:type="Add">
                              <operand localId="145" locator="82:14-82:50" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="144" locator="82:33-82:49" path="birthDate" xsi:type="Property">
                                    <source localId="143" locator="82:33-82:39" name="Patient" xsi:type="ExpressionRef"/>
                                 </operand>
                              </operand>
                              <operand localId="151" locator="82:54-82:103" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="150" locator="82:77-82:102" path="low" xsi:type="Property">
                                    <source localId="149" locator="82:77-82:98" strict="false" xsi:type="As">
                                       <operand localId="147" locator="82:78-82:83" name="choice" xsi:type="OperandRef"/>
                                       <asTypeSpecifier localId="148" locator="82:88-82:97" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                    </source>
                                 </operand>
                              </operand>
                           </low>
                           <high localId="165" locator="83:6-83:105" xsi:type="Add">
                              <operand localId="163" locator="83:6-83:96" xsi:type="Add">
                                 <operand localId="156" locator="83:6-83:42" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="155" locator="83:25-83:41" path="birthDate" xsi:type="Property">
                                       <source localId="154" locator="83:25-83:31" name="Patient" xsi:type="ExpressionRef"/>
                                    </operand>
                                 </operand>
                                 <operand localId="162" locator="83:46-83:96" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="161" locator="83:69-83:95" path="high" xsi:type="Property">
                                       <source localId="160" locator="83:69-83:90" strict="false" xsi:type="As">
                                          <operand localId="158" locator="83:70-83:75" name="choice" xsi:type="OperandRef"/>
                                          <asTypeSpecifier localId="159" locator="83:80-83:89" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                       </source>
                                    </operand>
                                 </operand>
                              </operand>
                              <operand localId="164" locator="83:100-83:105" value="1" unit="year" xsi:type="Quantity"/>
                           </high>
                        </source>
                     </operand>
                  </high>
                  <highClosedExpression path="highClosed" xsi:type="Property">
                     <source localId="166" locator="82:5-83:106" lowClosed="true" highClosed="false" xsi:type="Interval">
                        <low localId="152" locator="82:14-82:103" xsi:type="Add">
                           <operand localId="145" locator="82:14-82:50" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="144" locator="82:33-82:49" path="birthDate" xsi:type="Property">
                                 <source localId="143" locator="82:33-82:39" name="Patient" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                           <operand localId="151" locator="82:54-82:103" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="150" locator="82:77-82:102" path="low" xsi:type="Property">
                                 <source localId="149" locator="82:77-82:98" strict="false" xsi:type="As">
                                    <operand localId="147" locator="82:78-82:83" name="choice" xsi:type="OperandRef"/>
                                    <asTypeSpecifier localId="148" locator="82:88-82:97" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                 </source>
                              </operand>
                           </operand>
                        </low>
                        <high localId="165" locator="83:6-83:105" xsi:type="Add">
                           <operand localId="163" locator="83:6-83:96" xsi:type="Add">
                              <operand localId="156" locator="83:6-83:42" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="155" locator="83:25-83:41" path="birthDate" xsi:type="Property">
                                    <source localId="154" locator="83:25-83:31" name="Patient" xsi:type="ExpressionRef"/>
                                 </operand>
                              </operand>
                              <operand localId="162" locator="83:46-83:96" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="161" locator="83:69-83:95" path="high" xsi:type="Property">
                                    <source localId="160" locator="83:69-83:90" strict="false" xsi:type="As">
                                       <operand localId="158" locator="83:70-83:75" name="choice" xsi:type="OperandRef"/>
                                       <asTypeSpecifier localId="159" locator="83:80-83:89" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                    </source>
                                 </operand>
                              </operand>
                           </operand>
                           <operand localId="164" locator="83:100-83:105" value="1" unit="year" xsi:type="Quantity"/>
                        </high>
                     </source>
                  </highClosedExpression>
               </then>
            </caseItem>
            <caseItem localId="180" locator="84:3-85:114">
               <when localId="170" locator="84:8-84:28" xsi:type="Is">
                  <operand localId="168" locator="84:8-84:13" name="choice" xsi:type="OperandRef"/>
                  <isTypeSpecifier localId="169" locator="84:18-84:28" name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
               </when>
               <then localId="179" locator="85:5-85:114" xsi:type="Message">
                  <source localId="174" locator="85:13-85:38" strict="false" xsi:type="As">
                     <operand localId="171" locator="85:13-85:16" xsi:type="Null"/>
                     <asTypeSpecifier localId="173" locator="85:21-85:38" xsi:type="IntervalTypeSpecifier">
                        <pointType localId="172" locator="85:30-85:37" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </asTypeSpecifier>
                  </source>
                  <condition localId="175" locator="85:41-85:44" valueType="t:Boolean" value="true" xsi:type="Literal"/>
                  <code localId="176" locator="85:47-85:49" valueType="t:String" value="1" xsi:type="Literal"/>
                  <severity localId="177" locator="85:52-85:58" valueType="t:String" value="Error" xsi:type="Literal"/>
                  <message localId="178" locator="85:61-85:113" valueType="t:String" value="Cannot compute a single interval from a Timing type" xsi:type="Literal"/>
               </then>
            </caseItem>
            <caseItem localId="193" locator="86:5-87:111">
               <when localId="183" locator="86:10-86:30" xsi:type="Is">
                  <operand localId="181" locator="86:10-86:15" name="choice" xsi:type="OperandRef"/>
                  <isTypeSpecifier localId="182" locator="86:20-86:30" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
               </when>
               <then localId="192" locator="87:7-87:111" xsi:type="Message">
                  <source localId="187" locator="87:15-87:40" strict="false" xsi:type="As">
                     <operand localId="184" locator="87:15-87:18" xsi:type="Null"/>
                     <asTypeSpecifier localId="186" locator="87:23-87:40" xsi:type="IntervalTypeSpecifier">
                        <pointType localId="185" locator="87:32-87:39" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </asTypeSpecifier>
                  </source>
                  <condition localId="188" locator="87:43-87:46" valueType="t:Boolean" value="true" xsi:type="Literal"/>
                  <code localId="189" locator="87:49-87:51" valueType="t:String" value="1" xsi:type="Literal"/>
                  <severity localId="190" locator="87:54-87:60" valueType="t:String" value="Error" xsi:type="Literal"/>
                  <message localId="191" locator="87:63-87:110" valueType="t:String" value="Cannot compute an interval from a String value" xsi:type="Literal"/>
               </then>
            </caseItem>
            <else localId="197" locator="89:4-89:29" strict="false" xsi:type="As">
               <operand localId="194" locator="89:4-89:7" xsi:type="Null"/>
               <asTypeSpecifier localId="196" locator="89:12-89:29" xsi:type="IntervalTypeSpecifier">
                  <pointType localId="195" locator="89:21-89:28" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
               </asTypeSpecifier>
            </else>
         </expression>
         <operand name="choice">
            <operandTypeSpecifier localId="72" locator="70:35-70:130" xsi:type="ChoiceTypeSpecifier">
               <choice localId="65" locator="70:42-70:54" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
               <choice localId="66" locator="70:57-70:67" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
               <choice localId="67" locator="70:70-70:80" name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
               <choice localId="68" locator="70:83-70:94" name="fhir:instant" xsi:type="NamedTypeSpecifier"/>
               <choice localId="69" locator="70:97-70:107" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
               <choice localId="70" locator="70:110-70:117" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
               <choice localId="71" locator="70:120-70:129" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="319" locator="97:1-112:10" name="ToAbatementInterval" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="319">
               <a:s>define function ToAbatementInterval(condition </a:s>
               <a:s r="200">
                  <a:s>Condition</a:s>
               </a:s>
               <a:s>):
	</a:s>
               <a:s r="318">
                  <a:s r="318">
                     <a:s>if </a:s>
                     <a:s r="204">
                        <a:s r="202">
                           <a:s r="201">
                              <a:s>condition</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="202">
                              <a:s>abatement</a:s>
                           </a:s>
                        </a:s>
                        <a:s> is </a:s>
                        <a:s r="203">
                           <a:s>FHIR.dateTime</a:s>
                        </a:s>
                     </a:s>
                     <a:s> then
	  </a:s>
                     <a:s r="217">
                        <a:s>Interval[</a:s>
                        <a:s r="210">
                           <a:s r="205">
                              <a:s>FHIRHelpers</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="210">
                              <a:s>ToDateTime(</a:s>
                              <a:s r="209">
                                 <a:s r="207">
                                    <a:s r="206">
                                       <a:s>condition</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="207">
                                       <a:s>abatement</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> as </a:s>
                                 <a:s r="208">
                                    <a:s>FHIR.dateTime</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>, </a:s>
                        <a:s r="216">
                           <a:s r="211">
                              <a:s>FHIRHelpers</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="216">
                              <a:s>ToDateTime(</a:s>
                              <a:s r="215">
                                 <a:s r="213">
                                    <a:s r="212">
                                       <a:s>condition</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="213">
                                       <a:s>abatement</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> as </a:s>
                                 <a:s r="214">
                                    <a:s>FHIR.dateTime</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>
	else </a:s>
                     <a:s r="317">
                        <a:s>if </a:s>
                        <a:s r="221">
                           <a:s r="219">
                              <a:s r="218">
                                 <a:s>condition</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="219">
                                 <a:s>abatement</a:s>
                              </a:s>
                           </a:s>
                           <a:s> is </a:s>
                           <a:s r="220">
                              <a:s>FHIR.Period</a:s>
                           </a:s>
                        </a:s>
                        <a:s> then
	  </a:s>
                        <a:s r="227">
                           <a:s r="222">
                              <a:s>FHIRHelpers</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="227">
                              <a:s>ToInterval(</a:s>
                              <a:s r="226">
                                 <a:s r="224">
                                    <a:s r="223">
                                       <a:s>condition</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="224">
                                       <a:s>abatement</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> as </a:s>
                                 <a:s r="225">
                                    <a:s>FHIR.Period</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
	else </a:s>
                        <a:s r="316">
                           <a:s>if </a:s>
                           <a:s r="231">
                              <a:s r="229">
                                 <a:s r="228">
                                    <a:s>condition</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="229">
                                    <a:s>abatement</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> is </a:s>
                              <a:s r="230">
                                 <a:s>FHIR.string</a:s>
                              </a:s>
                           </a:s>
                           <a:s> then
    </a:s>
                           <a:s r="240">
                              <a:s>Message(</a:s>
                              <a:s r="235">
                                 <a:s r="232">null as </a:s>
                                 <a:s r="234">
                                    <a:s>Interval&lt;</a:s>
                                    <a:s r="233">
                                       <a:s>DateTime</a:s>
                                    </a:s>
                                    <a:s>></a:s>
                                 </a:s>
                              </a:s>
                              <a:s r="236">, true, </a:s>
                              <a:s r="237">
                                 <a:s>'1'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="238">
                                 <a:s>'Error'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="239">
                                 <a:s>'Cannot compute an interval from a String value'</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s>
	else </a:s>
                           <a:s r="315">
                              <a:s>if </a:s>
                              <a:s r="244">
                                 <a:s r="242">
                                    <a:s r="241">
                                       <a:s>condition</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="242">
                                       <a:s>abatement</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> is </a:s>
                                 <a:s r="243">
                                    <a:s>FHIR.Age</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> then
		</a:s>
                              <a:s r="269">
                                 <a:s>Interval[</a:s>
                                 <a:s r="255">
                                    <a:s r="248">
                                       <a:s r="245">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="248">
                                          <a:s>ToDate(</a:s>
                                          <a:s r="247">
                                             <a:s r="246">
                                                <a:s>Patient</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="247">
                                                <a:s>birthDate</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> + </a:s>
                                    <a:s r="254">
                                       <a:s r="249">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="254">
                                          <a:s>ToQuantity(</a:s>
                                          <a:s r="253">
                                             <a:s r="251">
                                                <a:s r="250">
                                                   <a:s>condition</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="251">
                                                   <a:s>abatement</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> as </a:s>
                                             <a:s r="252">
                                                <a:s>FHIR.Age</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,
			</a:s>
                                 <a:s r="268">
                                    <a:s r="266">
                                       <a:s r="259">
                                          <a:s r="256">
                                             <a:s>FHIRHelpers</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="259">
                                             <a:s>ToDate(</a:s>
                                             <a:s r="258">
                                                <a:s r="257">
                                                   <a:s>Patient</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="258">
                                                   <a:s>birthDate</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> + </a:s>
                                       <a:s r="265">
                                          <a:s r="260">
                                             <a:s>FHIRHelpers</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="265">
                                             <a:s>ToQuantity(</a:s>
                                             <a:s r="264">
                                                <a:s r="262">
                                                   <a:s r="261">
                                                      <a:s>condition</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="262">
                                                      <a:s>abatement</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> as </a:s>
                                                <a:s r="263">
                                                   <a:s>FHIR.Age</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> + </a:s>
                                    <a:s r="267">
                                       <a:s>1 year</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>
	else </a:s>
                              <a:s r="314">
                                 <a:s>if </a:s>
                                 <a:s r="273">
                                    <a:s r="271">
                                       <a:s r="270">
                                          <a:s>condition</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="271">
                                          <a:s>abatement</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> is </a:s>
                                    <a:s r="272">
                                       <a:s>FHIR.Range</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> then
	  </a:s>
                                 <a:s r="300">
                                    <a:s>Interval[</a:s>
                                    <a:s r="285">
                                       <a:s r="277">
                                          <a:s r="274">
                                             <a:s>FHIRHelpers</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="277">
                                             <a:s>ToDate(</a:s>
                                             <a:s r="276">
                                                <a:s r="275">
                                                   <a:s>Patient</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="276">
                                                   <a:s>birthDate</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> + </a:s>
                                       <a:s r="284">
                                          <a:s r="278">
                                             <a:s>FHIRHelpers</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="284">
                                             <a:s>ToQuantity(</a:s>
                                             <a:s r="283">
                                                <a:s r="282">
                                                   <a:s>(</a:s>
                                                   <a:s r="282">
                                                      <a:s r="280">
                                                         <a:s r="279">
                                                            <a:s>condition</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="280">
                                                            <a:s>abatement</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> as </a:s>
                                                      <a:s r="281">
                                                         <a:s>FHIR.Range</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="283">
                                                   <a:s>low</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>,
		  </a:s>
                                    <a:s r="299">
                                       <a:s r="297">
                                          <a:s r="289">
                                             <a:s r="286">
                                                <a:s>FHIRHelpers</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="289">
                                                <a:s>ToDate(</a:s>
                                                <a:s r="288">
                                                   <a:s r="287">
                                                      <a:s>Patient</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="288">
                                                      <a:s>birthDate</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> + </a:s>
                                          <a:s r="296">
                                             <a:s r="290">
                                                <a:s>FHIRHelpers</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="296">
                                                <a:s>ToQuantity(</a:s>
                                                <a:s r="295">
                                                   <a:s r="294">
                                                      <a:s>(</a:s>
                                                      <a:s r="294">
                                                         <a:s r="292">
                                                            <a:s r="291">
                                                               <a:s>condition</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="292">
                                                               <a:s>abatement</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> as </a:s>
                                                         <a:s r="293">
                                                            <a:s>FHIR.Range</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="295">
                                                      <a:s>high</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> + </a:s>
                                       <a:s r="298">
                                          <a:s>1 year</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                                 <a:s>
	else </a:s>
                                 <a:s r="313">
                                    <a:s>if </a:s>
                                    <a:s r="304">
                                       <a:s r="302">
                                          <a:s r="301">
                                             <a:s>condition</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="302">
                                             <a:s>abatement</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> is </a:s>
                                       <a:s r="303">
                                          <a:s>FHIR.boolean</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> then
	  </a:s>
                                    <a:s r="311">
                                       <a:s>Interval[</a:s>
                                       <a:s r="308">
                                          <a:s>end of </a:s>
                                          <a:s r="307">
                                             <a:s>ToInterval(</a:s>
                                             <a:s r="306">
                                                <a:s r="305">
                                                   <a:s>condition</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="306">
                                                   <a:s>onset</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="310">
                                          <a:s r="309">
                                             <a:s>condition</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="310">
                                             <a:s>recordedDate</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s r="312">
	else null</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="318" locator="98:2-112:10" xsi:type="If">
            <condition asType="t:Boolean" xsi:type="As">
               <operand localId="204" locator="98:5-98:40" xsi:type="Is">
                  <operand localId="202" locator="98:5-98:23" path="abatement" xsi:type="Property">
                     <source localId="201" locator="98:5-98:13" name="condition" xsi:type="OperandRef"/>
                  </operand>
                  <isTypeSpecifier localId="203" locator="98:28-98:40" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
               </operand>
            </condition>
            <then localId="217" locator="99:4-99:135" lowClosed="true" highClosed="true" xsi:type="Interval">
               <low localId="210" locator="99:13-99:72" name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand localId="209" locator="99:36-99:71" strict="false" xsi:type="As">
                     <operand localId="207" locator="99:36-99:54" path="abatement" xsi:type="Property">
                        <source localId="206" locator="99:36-99:44" name="condition" xsi:type="OperandRef"/>
                     </operand>
                     <asTypeSpecifier localId="208" locator="99:59-99:71" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                  </operand>
               </low>
               <high localId="216" locator="99:75-99:134" name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand localId="215" locator="99:98-99:133" strict="false" xsi:type="As">
                     <operand localId="213" locator="99:98-99:116" path="abatement" xsi:type="Property">
                        <source localId="212" locator="99:98-99:106" name="condition" xsi:type="OperandRef"/>
                     </operand>
                     <asTypeSpecifier localId="214" locator="99:121-99:133" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                  </operand>
               </high>
            </then>
            <else localId="317" locator="100:7-112:10" xsi:type="If">
               <condition asType="t:Boolean" xsi:type="As">
                  <operand localId="221" locator="100:10-100:43" xsi:type="Is">
                     <operand localId="219" locator="100:10-100:28" path="abatement" xsi:type="Property">
                        <source localId="218" locator="100:10-100:18" name="condition" xsi:type="OperandRef"/>
                     </operand>
                     <isTypeSpecifier localId="220" locator="100:33-100:43" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                  </operand>
               </condition>
               <then localId="227" locator="101:4-101:61" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand localId="226" locator="101:27-101:60" strict="false" xsi:type="As">
                     <operand localId="224" locator="101:27-101:45" path="abatement" xsi:type="Property">
                        <source localId="223" locator="101:27-101:35" name="condition" xsi:type="OperandRef"/>
                     </operand>
                     <asTypeSpecifier localId="225" locator="101:50-101:60" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                  </operand>
               </then>
               <else localId="316" locator="102:7-112:10" xsi:type="If">
                  <condition asType="t:Boolean" xsi:type="As">
                     <operand localId="231" locator="102:10-102:43" xsi:type="Is">
                        <operand localId="229" locator="102:10-102:28" path="abatement" xsi:type="Property">
                           <source localId="228" locator="102:10-102:18" name="condition" xsi:type="OperandRef"/>
                        </operand>
                        <isTypeSpecifier localId="230" locator="102:33-102:43" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                     </operand>
                  </condition>
                  <then localId="240" locator="103:5-103:109" xsi:type="Message">
                     <source localId="235" locator="103:13-103:38" strict="false" xsi:type="As">
                        <operand localId="232" locator="103:13-103:16" xsi:type="Null"/>
                        <asTypeSpecifier localId="234" locator="103:21-103:38" xsi:type="IntervalTypeSpecifier">
                           <pointType localId="233" locator="103:30-103:37" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </asTypeSpecifier>
                     </source>
                     <condition localId="236" locator="103:41-103:44" valueType="t:Boolean" value="true" xsi:type="Literal"/>
                     <code localId="237" locator="103:47-103:49" valueType="t:String" value="1" xsi:type="Literal"/>
                     <severity localId="238" locator="103:52-103:58" valueType="t:String" value="Error" xsi:type="Literal"/>
                     <message localId="239" locator="103:61-103:108" valueType="t:String" value="Cannot compute an interval from a String value" xsi:type="Literal"/>
                  </then>
                  <else localId="315" locator="104:7-112:10" xsi:type="If">
                     <condition asType="t:Boolean" xsi:type="As">
                        <operand localId="244" locator="104:10-104:40" xsi:type="Is">
                           <operand localId="242" locator="104:10-104:28" path="abatement" xsi:type="Property">
                              <source localId="241" locator="104:10-104:18" name="condition" xsi:type="OperandRef"/>
                           </operand>
                           <isTypeSpecifier localId="243" locator="104:33-104:40" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                        </operand>
                     </condition>
                     <then xsi:type="Interval">
                        <low xsi:type="ToDateTime">
                           <operand path="low" xsi:type="Property">
                              <source localId="269" locator="105:3-106:108" lowClosed="true" highClosed="false" xsi:type="Interval">
                                 <low localId="255" locator="105:12-105:106" xsi:type="Add">
                                    <operand localId="248" locator="105:12-105:48" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="247" locator="105:31-105:47" path="birthDate" xsi:type="Property">
                                          <source localId="246" locator="105:31-105:37" name="Patient" xsi:type="ExpressionRef"/>
                                       </operand>
                                    </operand>
                                    <operand localId="254" locator="105:52-105:106" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="253" locator="105:75-105:105" strict="false" xsi:type="As">
                                          <operand localId="251" locator="105:75-105:93" path="abatement" xsi:type="Property">
                                             <source localId="250" locator="105:75-105:83" name="condition" xsi:type="OperandRef"/>
                                          </operand>
                                          <asTypeSpecifier localId="252" locator="105:98-105:105" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                                       </operand>
                                    </operand>
                                 </low>
                                 <high localId="268" locator="106:4-106:107" xsi:type="Add">
                                    <operand localId="266" locator="106:4-106:98" xsi:type="Add">
                                       <operand localId="259" locator="106:4-106:40" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="258" locator="106:23-106:39" path="birthDate" xsi:type="Property">
                                             <source localId="257" locator="106:23-106:29" name="Patient" xsi:type="ExpressionRef"/>
                                          </operand>
                                       </operand>
                                       <operand localId="265" locator="106:44-106:98" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="264" locator="106:67-106:97" strict="false" xsi:type="As">
                                             <operand localId="262" locator="106:67-106:85" path="abatement" xsi:type="Property">
                                                <source localId="261" locator="106:67-106:75" name="condition" xsi:type="OperandRef"/>
                                             </operand>
                                             <asTypeSpecifier localId="263" locator="106:90-106:97" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                                          </operand>
                                       </operand>
                                    </operand>
                                    <operand localId="267" locator="106:102-106:107" value="1" unit="year" xsi:type="Quantity"/>
                                 </high>
                              </source>
                           </operand>
                        </low>
                        <lowClosedExpression path="lowClosed" xsi:type="Property">
                           <source localId="269" locator="105:3-106:108" lowClosed="true" highClosed="false" xsi:type="Interval">
                              <low localId="255" locator="105:12-105:106" xsi:type="Add">
                                 <operand localId="248" locator="105:12-105:48" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="247" locator="105:31-105:47" path="birthDate" xsi:type="Property">
                                       <source localId="246" locator="105:31-105:37" name="Patient" xsi:type="ExpressionRef"/>
                                    </operand>
                                 </operand>
                                 <operand localId="254" locator="105:52-105:106" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="253" locator="105:75-105:105" strict="false" xsi:type="As">
                                       <operand localId="251" locator="105:75-105:93" path="abatement" xsi:type="Property">
                                          <source localId="250" locator="105:75-105:83" name="condition" xsi:type="OperandRef"/>
                                       </operand>
                                       <asTypeSpecifier localId="252" locator="105:98-105:105" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                                    </operand>
                                 </operand>
                              </low>
                              <high localId="268" locator="106:4-106:107" xsi:type="Add">
                                 <operand localId="266" locator="106:4-106:98" xsi:type="Add">
                                    <operand localId="259" locator="106:4-106:40" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="258" locator="106:23-106:39" path="birthDate" xsi:type="Property">
                                          <source localId="257" locator="106:23-106:29" name="Patient" xsi:type="ExpressionRef"/>
                                       </operand>
                                    </operand>
                                    <operand localId="265" locator="106:44-106:98" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="264" locator="106:67-106:97" strict="false" xsi:type="As">
                                          <operand localId="262" locator="106:67-106:85" path="abatement" xsi:type="Property">
                                             <source localId="261" locator="106:67-106:75" name="condition" xsi:type="OperandRef"/>
                                          </operand>
                                          <asTypeSpecifier localId="263" locator="106:90-106:97" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="267" locator="106:102-106:107" value="1" unit="year" xsi:type="Quantity"/>
                              </high>
                           </source>
                        </lowClosedExpression>
                        <high xsi:type="ToDateTime">
                           <operand path="high" xsi:type="Property">
                              <source localId="269" locator="105:3-106:108" lowClosed="true" highClosed="false" xsi:type="Interval">
                                 <low localId="255" locator="105:12-105:106" xsi:type="Add">
                                    <operand localId="248" locator="105:12-105:48" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="247" locator="105:31-105:47" path="birthDate" xsi:type="Property">
                                          <source localId="246" locator="105:31-105:37" name="Patient" xsi:type="ExpressionRef"/>
                                       </operand>
                                    </operand>
                                    <operand localId="254" locator="105:52-105:106" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="253" locator="105:75-105:105" strict="false" xsi:type="As">
                                          <operand localId="251" locator="105:75-105:93" path="abatement" xsi:type="Property">
                                             <source localId="250" locator="105:75-105:83" name="condition" xsi:type="OperandRef"/>
                                          </operand>
                                          <asTypeSpecifier localId="252" locator="105:98-105:105" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                                       </operand>
                                    </operand>
                                 </low>
                                 <high localId="268" locator="106:4-106:107" xsi:type="Add">
                                    <operand localId="266" locator="106:4-106:98" xsi:type="Add">
                                       <operand localId="259" locator="106:4-106:40" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="258" locator="106:23-106:39" path="birthDate" xsi:type="Property">
                                             <source localId="257" locator="106:23-106:29" name="Patient" xsi:type="ExpressionRef"/>
                                          </operand>
                                       </operand>
                                       <operand localId="265" locator="106:44-106:98" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="264" locator="106:67-106:97" strict="false" xsi:type="As">
                                             <operand localId="262" locator="106:67-106:85" path="abatement" xsi:type="Property">
                                                <source localId="261" locator="106:67-106:75" name="condition" xsi:type="OperandRef"/>
                                             </operand>
                                             <asTypeSpecifier localId="263" locator="106:90-106:97" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                                          </operand>
                                       </operand>
                                    </operand>
                                    <operand localId="267" locator="106:102-106:107" value="1" unit="year" xsi:type="Quantity"/>
                                 </high>
                              </source>
                           </operand>
                        </high>
                        <highClosedExpression path="highClosed" xsi:type="Property">
                           <source localId="269" locator="105:3-106:108" lowClosed="true" highClosed="false" xsi:type="Interval">
                              <low localId="255" locator="105:12-105:106" xsi:type="Add">
                                 <operand localId="248" locator="105:12-105:48" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="247" locator="105:31-105:47" path="birthDate" xsi:type="Property">
                                       <source localId="246" locator="105:31-105:37" name="Patient" xsi:type="ExpressionRef"/>
                                    </operand>
                                 </operand>
                                 <operand localId="254" locator="105:52-105:106" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="253" locator="105:75-105:105" strict="false" xsi:type="As">
                                       <operand localId="251" locator="105:75-105:93" path="abatement" xsi:type="Property">
                                          <source localId="250" locator="105:75-105:83" name="condition" xsi:type="OperandRef"/>
                                       </operand>
                                       <asTypeSpecifier localId="252" locator="105:98-105:105" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                                    </operand>
                                 </operand>
                              </low>
                              <high localId="268" locator="106:4-106:107" xsi:type="Add">
                                 <operand localId="266" locator="106:4-106:98" xsi:type="Add">
                                    <operand localId="259" locator="106:4-106:40" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="258" locator="106:23-106:39" path="birthDate" xsi:type="Property">
                                          <source localId="257" locator="106:23-106:29" name="Patient" xsi:type="ExpressionRef"/>
                                       </operand>
                                    </operand>
                                    <operand localId="265" locator="106:44-106:98" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="264" locator="106:67-106:97" strict="false" xsi:type="As">
                                          <operand localId="262" locator="106:67-106:85" path="abatement" xsi:type="Property">
                                             <source localId="261" locator="106:67-106:75" name="condition" xsi:type="OperandRef"/>
                                          </operand>
                                          <asTypeSpecifier localId="263" locator="106:90-106:97" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="267" locator="106:102-106:107" value="1" unit="year" xsi:type="Quantity"/>
                              </high>
                           </source>
                        </highClosedExpression>
                     </then>
                     <else localId="314" locator="107:7-112:10" xsi:type="If">
                        <condition asType="t:Boolean" xsi:type="As">
                           <operand localId="273" locator="107:10-107:42" xsi:type="Is">
                              <operand localId="271" locator="107:10-107:28" path="abatement" xsi:type="Property">
                                 <source localId="270" locator="107:10-107:18" name="condition" xsi:type="OperandRef"/>
                              </operand>
                              <isTypeSpecifier localId="272" locator="107:33-107:42" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                           </operand>
                        </condition>
                        <then xsi:type="Interval">
                           <low xsi:type="ToDateTime">
                              <operand path="low" xsi:type="Property">
                                 <source localId="300" locator="108:4-109:118" lowClosed="true" highClosed="false" xsi:type="Interval">
                                    <low localId="285" locator="108:13-108:115" xsi:type="Add">
                                       <operand localId="277" locator="108:13-108:49" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="276" locator="108:32-108:48" path="birthDate" xsi:type="Property">
                                             <source localId="275" locator="108:32-108:38" name="Patient" xsi:type="ExpressionRef"/>
                                          </operand>
                                       </operand>
                                       <operand localId="284" locator="108:53-108:115" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="283" locator="108:76-108:114" path="low" xsi:type="Property">
                                             <source localId="282" locator="108:76-108:110" strict="false" xsi:type="As">
                                                <operand localId="280" locator="108:77-108:95" path="abatement" xsi:type="Property">
                                                   <source localId="279" locator="108:77-108:85" name="condition" xsi:type="OperandRef"/>
                                                </operand>
                                                <asTypeSpecifier localId="281" locator="108:100-108:109" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                             </source>
                                          </operand>
                                       </operand>
                                    </low>
                                    <high localId="299" locator="109:5-109:117" xsi:type="Add">
                                       <operand localId="297" locator="109:5-109:108" xsi:type="Add">
                                          <operand localId="289" locator="109:5-109:41" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <operand localId="288" locator="109:24-109:40" path="birthDate" xsi:type="Property">
                                                <source localId="287" locator="109:24-109:30" name="Patient" xsi:type="ExpressionRef"/>
                                             </operand>
                                          </operand>
                                          <operand localId="296" locator="109:45-109:108" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <operand localId="295" locator="109:68-109:107" path="high" xsi:type="Property">
                                                <source localId="294" locator="109:68-109:102" strict="false" xsi:type="As">
                                                   <operand localId="292" locator="109:69-109:87" path="abatement" xsi:type="Property">
                                                      <source localId="291" locator="109:69-109:77" name="condition" xsi:type="OperandRef"/>
                                                   </operand>
                                                   <asTypeSpecifier localId="293" locator="109:92-109:101" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                                </source>
                                             </operand>
                                          </operand>
                                       </operand>
                                       <operand localId="298" locator="109:112-109:117" value="1" unit="year" xsi:type="Quantity"/>
                                    </high>
                                 </source>
                              </operand>
                           </low>
                           <lowClosedExpression path="lowClosed" xsi:type="Property">
                              <source localId="300" locator="108:4-109:118" lowClosed="true" highClosed="false" xsi:type="Interval">
                                 <low localId="285" locator="108:13-108:115" xsi:type="Add">
                                    <operand localId="277" locator="108:13-108:49" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="276" locator="108:32-108:48" path="birthDate" xsi:type="Property">
                                          <source localId="275" locator="108:32-108:38" name="Patient" xsi:type="ExpressionRef"/>
                                       </operand>
                                    </operand>
                                    <operand localId="284" locator="108:53-108:115" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="283" locator="108:76-108:114" path="low" xsi:type="Property">
                                          <source localId="282" locator="108:76-108:110" strict="false" xsi:type="As">
                                             <operand localId="280" locator="108:77-108:95" path="abatement" xsi:type="Property">
                                                <source localId="279" locator="108:77-108:85" name="condition" xsi:type="OperandRef"/>
                                             </operand>
                                             <asTypeSpecifier localId="281" locator="108:100-108:109" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </low>
                                 <high localId="299" locator="109:5-109:117" xsi:type="Add">
                                    <operand localId="297" locator="109:5-109:108" xsi:type="Add">
                                       <operand localId="289" locator="109:5-109:41" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="288" locator="109:24-109:40" path="birthDate" xsi:type="Property">
                                             <source localId="287" locator="109:24-109:30" name="Patient" xsi:type="ExpressionRef"/>
                                          </operand>
                                       </operand>
                                       <operand localId="296" locator="109:45-109:108" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="295" locator="109:68-109:107" path="high" xsi:type="Property">
                                             <source localId="294" locator="109:68-109:102" strict="false" xsi:type="As">
                                                <operand localId="292" locator="109:69-109:87" path="abatement" xsi:type="Property">
                                                   <source localId="291" locator="109:69-109:77" name="condition" xsi:type="OperandRef"/>
                                                </operand>
                                                <asTypeSpecifier localId="293" locator="109:92-109:101" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                             </source>
                                          </operand>
                                       </operand>
                                    </operand>
                                    <operand localId="298" locator="109:112-109:117" value="1" unit="year" xsi:type="Quantity"/>
                                 </high>
                              </source>
                           </lowClosedExpression>
                           <high xsi:type="ToDateTime">
                              <operand path="high" xsi:type="Property">
                                 <source localId="300" locator="108:4-109:118" lowClosed="true" highClosed="false" xsi:type="Interval">
                                    <low localId="285" locator="108:13-108:115" xsi:type="Add">
                                       <operand localId="277" locator="108:13-108:49" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="276" locator="108:32-108:48" path="birthDate" xsi:type="Property">
                                             <source localId="275" locator="108:32-108:38" name="Patient" xsi:type="ExpressionRef"/>
                                          </operand>
                                       </operand>
                                       <operand localId="284" locator="108:53-108:115" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="283" locator="108:76-108:114" path="low" xsi:type="Property">
                                             <source localId="282" locator="108:76-108:110" strict="false" xsi:type="As">
                                                <operand localId="280" locator="108:77-108:95" path="abatement" xsi:type="Property">
                                                   <source localId="279" locator="108:77-108:85" name="condition" xsi:type="OperandRef"/>
                                                </operand>
                                                <asTypeSpecifier localId="281" locator="108:100-108:109" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                             </source>
                                          </operand>
                                       </operand>
                                    </low>
                                    <high localId="299" locator="109:5-109:117" xsi:type="Add">
                                       <operand localId="297" locator="109:5-109:108" xsi:type="Add">
                                          <operand localId="289" locator="109:5-109:41" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <operand localId="288" locator="109:24-109:40" path="birthDate" xsi:type="Property">
                                                <source localId="287" locator="109:24-109:30" name="Patient" xsi:type="ExpressionRef"/>
                                             </operand>
                                          </operand>
                                          <operand localId="296" locator="109:45-109:108" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <operand localId="295" locator="109:68-109:107" path="high" xsi:type="Property">
                                                <source localId="294" locator="109:68-109:102" strict="false" xsi:type="As">
                                                   <operand localId="292" locator="109:69-109:87" path="abatement" xsi:type="Property">
                                                      <source localId="291" locator="109:69-109:77" name="condition" xsi:type="OperandRef"/>
                                                   </operand>
                                                   <asTypeSpecifier localId="293" locator="109:92-109:101" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                                </source>
                                             </operand>
                                          </operand>
                                       </operand>
                                       <operand localId="298" locator="109:112-109:117" value="1" unit="year" xsi:type="Quantity"/>
                                    </high>
                                 </source>
                              </operand>
                           </high>
                           <highClosedExpression path="highClosed" xsi:type="Property">
                              <source localId="300" locator="108:4-109:118" lowClosed="true" highClosed="false" xsi:type="Interval">
                                 <low localId="285" locator="108:13-108:115" xsi:type="Add">
                                    <operand localId="277" locator="108:13-108:49" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="276" locator="108:32-108:48" path="birthDate" xsi:type="Property">
                                          <source localId="275" locator="108:32-108:38" name="Patient" xsi:type="ExpressionRef"/>
                                       </operand>
                                    </operand>
                                    <operand localId="284" locator="108:53-108:115" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="283" locator="108:76-108:114" path="low" xsi:type="Property">
                                          <source localId="282" locator="108:76-108:110" strict="false" xsi:type="As">
                                             <operand localId="280" locator="108:77-108:95" path="abatement" xsi:type="Property">
                                                <source localId="279" locator="108:77-108:85" name="condition" xsi:type="OperandRef"/>
                                             </operand>
                                             <asTypeSpecifier localId="281" locator="108:100-108:109" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </low>
                                 <high localId="299" locator="109:5-109:117" xsi:type="Add">
                                    <operand localId="297" locator="109:5-109:108" xsi:type="Add">
                                       <operand localId="289" locator="109:5-109:41" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="288" locator="109:24-109:40" path="birthDate" xsi:type="Property">
                                             <source localId="287" locator="109:24-109:30" name="Patient" xsi:type="ExpressionRef"/>
                                          </operand>
                                       </operand>
                                       <operand localId="296" locator="109:45-109:108" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="295" locator="109:68-109:107" path="high" xsi:type="Property">
                                             <source localId="294" locator="109:68-109:102" strict="false" xsi:type="As">
                                                <operand localId="292" locator="109:69-109:87" path="abatement" xsi:type="Property">
                                                   <source localId="291" locator="109:69-109:77" name="condition" xsi:type="OperandRef"/>
                                                </operand>
                                                <asTypeSpecifier localId="293" locator="109:92-109:101" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                             </source>
                                          </operand>
                                       </operand>
                                    </operand>
                                    <operand localId="298" locator="109:112-109:117" value="1" unit="year" xsi:type="Quantity"/>
                                 </high>
                              </source>
                           </highClosedExpression>
                        </then>
                        <else localId="313" locator="110:7-112:10" xsi:type="If">
                           <condition asType="t:Boolean" xsi:type="As">
                              <operand localId="304" locator="110:10-110:44" xsi:type="Is">
                                 <operand localId="302" locator="110:10-110:28" path="abatement" xsi:type="Property">
                                    <source localId="301" locator="110:10-110:18" name="condition" xsi:type="OperandRef"/>
                                 </operand>
                                 <isTypeSpecifier localId="303" locator="110:33-110:44" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
                              </operand>
                           </condition>
                           <then localId="311" locator="111:4-111:71" lowClosed="true" highClosed="false" xsi:type="Interval">
                              <low localId="308" locator="111:13-111:46" xsi:type="End">
                                 <operand localId="307" locator="111:20-111:46" name="ToInterval" xsi:type="FunctionRef">
                                    <operand localId="306" locator="111:31-111:45" path="onset" xsi:type="Property">
                                       <source localId="305" locator="111:31-111:39" name="condition" xsi:type="OperandRef"/>
                                    </operand>
                                 </operand>
                              </low>
                              <high name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="310" locator="111:49-111:70" path="recordedDate" xsi:type="Property">
                                    <source localId="309" locator="111:49-111:57" name="condition" xsi:type="OperandRef"/>
                                 </operand>
                              </high>
                           </then>
                           <else xsi:type="As">
                              <operand localId="312" locator="112:7-112:10" xsi:type="Null"/>
                              <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </asTypeSpecifier>
                           </else>
                        </else>
                     </else>
                  </else>
               </else>
            </else>
         </expression>
         <operand name="condition">
            <operandTypeSpecifier localId="200" locator="97:47-97:55" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="329" locator="119:1-120:87" name="ToPrevalenceInterval" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="329">
               <a:s>define function ToPrevalenceInterval(condition </a:s>
               <a:s r="320">
                  <a:s>Condition</a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="328">
                  <a:s r="328">
                     <a:s>Interval[</a:s>
                     <a:s r="324">
                        <a:s>start of </a:s>
                        <a:s r="323">
                           <a:s>ToInterval(</a:s>
                           <a:s r="322">
                              <a:s r="321">
                                 <a:s>condition</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="322">
                                 <a:s>onset</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="327">
                        <a:s>end of </a:s>
                        <a:s r="326">
                           <a:s>ToAbatementInterval(</a:s>
                           <a:s r="325">
                              <a:s>condition</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="328" locator="120:3-120:87" lowClosed="true" highClosed="false" xsi:type="Interval">
            <low localId="324" locator="120:12-120:47" xsi:type="Start">
               <operand localId="323" locator="120:21-120:47" name="ToInterval" xsi:type="FunctionRef">
                  <operand localId="322" locator="120:32-120:46" path="onset" xsi:type="Property">
                     <source localId="321" locator="120:32-120:40" name="condition" xsi:type="OperandRef"/>
                  </operand>
               </operand>
            </low>
            <high localId="327" locator="120:50-120:86" xsi:type="End">
               <operand localId="326" locator="120:57-120:86" name="ToAbatementInterval" xsi:type="FunctionRef">
                  <operand localId="325" locator="120:77-120:85" name="condition" xsi:type="OperandRef"/>
               </operand>
            </high>
         </expression>
         <operand name="condition">
            <operandTypeSpecifier localId="320" locator="119:48-119:56" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="341" locator="128:1-131:10" name="Extensions" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="341">
               <a:s>define function Extensions(domainResource </a:s>
               <a:s r="330">
                  <a:s>DomainResource</a:s>
               </a:s>
               <a:s>, url </a:s>
               <a:s r="331">
                  <a:s>String</a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="340">
                  <a:s r="340">
                     <a:s>
                        <a:s r="333">
                           <a:s r="332">
                              <a:s>
                                 <a:s>domainResource.extension</a:s>
                              </a:s>
                           </a:s>
                           <a:s> E</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
	  </a:s>
                     <a:s r="337">
                        <a:s>where </a:s>
                        <a:s r="337">
                           <a:s r="335">
                              <a:s r="334">
                                 <a:s>E</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="335">
                                 <a:s>url</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="336">
                              <a:s>url</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
		</a:s>
                     <a:s r="339">
                        <a:s>return </a:s>
                        <a:s r="338">
                           <a:s>E</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="340" locator="129:3-131:10" xsi:type="Query">
            <source localId="333" locator="129:3-129:28" alias="E">
               <expression localId="332" locator="129:3-129:26" path="extension" xsi:type="Property">
                  <source name="domainResource" xsi:type="OperandRef"/>
               </expression>
            </source>
            <where localId="337" locator="130:4-130:20" xsi:type="Equal">
               <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand localId="335" locator="130:10-130:14" path="url" scope="E" xsi:type="Property"/>
               </operand>
               <operand localId="336" locator="130:18-130:20" name="url" xsi:type="OperandRef"/>
            </where>
            <return localId="339" locator="131:3-131:10">
               <expression localId="338" locator="131:10" name="E" xsi:type="AliasRef"/>
            </return>
         </expression>
         <operand name="domainResource">
            <operandTypeSpecifier localId="330" locator="128:43-128:56" name="fhir:DomainResource" xsi:type="NamedTypeSpecifier"/>
         </operand>
         <operand name="url">
            <operandTypeSpecifier localId="331" locator="128:63-128:68" name="t:String" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="348" locator="138:1-139:50" name="Extension" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="348">
               <a:s>define function Extension(domainResource </a:s>
               <a:s r="342">
                  <a:s>DomainResource</a:s>
               </a:s>
               <a:s>, url </a:s>
               <a:s r="343">
                  <a:s>String</a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="347">
                  <a:s r="347">
                     <a:s>singleton from </a:s>
                     <a:s r="346">
                        <a:s>&quot;Extensions&quot;(</a:s>
                        <a:s r="344">
                           <a:s>domainResource</a:s>
                        </a:s>
                        <a:s>, </a:s>
                        <a:s r="345">
                           <a:s>url</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="347" locator="139:3-139:50" xsi:type="SingletonFrom">
            <operand localId="346" locator="139:18-139:50" name="Extensions" xsi:type="FunctionRef">
               <operand localId="344" locator="139:31-139:44" name="domainResource" xsi:type="OperandRef"/>
               <operand localId="345" locator="139:47-139:49" name="url" xsi:type="OperandRef"/>
            </operand>
         </expression>
         <operand name="domainResource">
            <operandTypeSpecifier localId="342" locator="138:42-138:55" name="fhir:DomainResource" xsi:type="NamedTypeSpecifier"/>
         </operand>
         <operand name="url">
            <operandTypeSpecifier localId="343" locator="138:62-138:67" name="t:String" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="360" locator="146:1-149:10" name="Extensions" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="360">
               <a:s>define function Extensions(element </a:s>
               <a:s r="349">
                  <a:s>Element</a:s>
               </a:s>
               <a:s>, url </a:s>
               <a:s r="350">
                  <a:s>String</a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="359">
                  <a:s r="359">
                     <a:s>
                        <a:s r="352">
                           <a:s r="351">
                              <a:s>
                                 <a:s>element.extension</a:s>
                              </a:s>
                           </a:s>
                           <a:s> E</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
	  </a:s>
                     <a:s r="356">
                        <a:s>where </a:s>
                        <a:s r="356">
                           <a:s r="354">
                              <a:s r="353">
                                 <a:s>E</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="354">
                                 <a:s>url</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="355">
                              <a:s>url</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
		</a:s>
                     <a:s r="358">
                        <a:s>return </a:s>
                        <a:s r="357">
                           <a:s>E</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="359" locator="147:3-149:10" xsi:type="Query">
            <source localId="352" locator="147:3-147:21" alias="E">
               <expression localId="351" locator="147:3-147:19" path="extension" xsi:type="Property">
                  <source name="element" xsi:type="OperandRef"/>
               </expression>
            </source>
            <where localId="356" locator="148:4-148:20" xsi:type="Equal">
               <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand localId="354" locator="148:10-148:14" path="url" scope="E" xsi:type="Property"/>
               </operand>
               <operand localId="355" locator="148:18-148:20" name="url" xsi:type="OperandRef"/>
            </where>
            <return localId="358" locator="149:3-149:10">
               <expression localId="357" locator="149:10" name="E" xsi:type="AliasRef"/>
            </return>
         </expression>
         <operand name="element">
            <operandTypeSpecifier localId="349" locator="146:36-146:42" name="fhir:Element" xsi:type="NamedTypeSpecifier"/>
         </operand>
         <operand name="url">
            <operandTypeSpecifier localId="350" locator="146:49-146:54" name="t:String" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="367" locator="156:1-157:41" name="Extension" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="367">
               <a:s>define function Extension(element </a:s>
               <a:s r="361">
                  <a:s>Element</a:s>
               </a:s>
               <a:s>, url </a:s>
               <a:s r="362">
                  <a:s>String</a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="366">
                  <a:s r="366">
                     <a:s>singleton from </a:s>
                     <a:s r="365">
                        <a:s>Extensions(</a:s>
                        <a:s r="363">
                           <a:s>element</a:s>
                        </a:s>
                        <a:s>, </a:s>
                        <a:s r="364">
                           <a:s>url</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="366" locator="157:3-157:41" xsi:type="SingletonFrom">
            <operand localId="365" locator="157:18-157:41" name="Extensions" xsi:type="FunctionRef">
               <operand localId="363" locator="157:29-157:35" name="element" xsi:type="OperandRef"/>
               <operand localId="364" locator="157:38-157:40" name="url" xsi:type="OperandRef"/>
            </operand>
         </expression>
         <operand name="element">
            <operandTypeSpecifier localId="361" locator="156:35-156:41" name="fhir:Element" xsi:type="NamedTypeSpecifier"/>
         </operand>
         <operand name="url">
            <operandTypeSpecifier localId="362" locator="156:48-156:53" name="t:String" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="379" locator="165:1-168:10" name="ModifierExtensions" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="379">
               <a:s>define function ModifierExtensions(domainResource </a:s>
               <a:s r="368">
                  <a:s>DomainResource</a:s>
               </a:s>
               <a:s>, url </a:s>
               <a:s r="369">
                  <a:s>String</a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="378">
                  <a:s r="378">
                     <a:s>
                        <a:s r="371">
                           <a:s r="370">
                              <a:s>
                                 <a:s>domainResource.modifierExtension</a:s>
                              </a:s>
                           </a:s>
                           <a:s> E</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
	  </a:s>
                     <a:s r="375">
                        <a:s>where </a:s>
                        <a:s r="375">
                           <a:s r="373">
                              <a:s r="372">
                                 <a:s>E</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="373">
                                 <a:s>url</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="374">
                              <a:s>url</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
		</a:s>
                     <a:s r="377">
                        <a:s>return </a:s>
                        <a:s r="376">
                           <a:s>E</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="378" locator="166:3-168:10" xsi:type="Query">
            <source localId="371" locator="166:3-166:36" alias="E">
               <expression localId="370" locator="166:3-166:34" path="modifierExtension" xsi:type="Property">
                  <source name="domainResource" xsi:type="OperandRef"/>
               </expression>
            </source>
            <where localId="375" locator="167:4-167:20" xsi:type="Equal">
               <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand localId="373" locator="167:10-167:14" path="url" scope="E" xsi:type="Property"/>
               </operand>
               <operand localId="374" locator="167:18-167:20" name="url" xsi:type="OperandRef"/>
            </where>
            <return localId="377" locator="168:3-168:10">
               <expression localId="376" locator="168:10" name="E" xsi:type="AliasRef"/>
            </return>
         </expression>
         <operand name="domainResource">
            <operandTypeSpecifier localId="368" locator="165:51-165:64" name="fhir:DomainResource" xsi:type="NamedTypeSpecifier"/>
         </operand>
         <operand name="url">
            <operandTypeSpecifier localId="369" locator="165:71-165:76" name="t:String" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="386" locator="175:1-176:56" name="ModifierExtension" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="386">
               <a:s>define function ModifierExtension(domainResource </a:s>
               <a:s r="380">
                  <a:s>DomainResource</a:s>
               </a:s>
               <a:s>, url </a:s>
               <a:s r="381">
                  <a:s>String</a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="385">
                  <a:s r="385">
                     <a:s>singleton from </a:s>
                     <a:s r="384">
                        <a:s>ModifierExtensions(</a:s>
                        <a:s r="382">
                           <a:s>domainResource</a:s>
                        </a:s>
                        <a:s>, </a:s>
                        <a:s r="383">
                           <a:s>url</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="385" locator="176:3-176:56" xsi:type="SingletonFrom">
            <operand localId="384" locator="176:18-176:56" name="ModifierExtensions" xsi:type="FunctionRef">
               <operand localId="382" locator="176:37-176:50" name="domainResource" xsi:type="OperandRef"/>
               <operand localId="383" locator="176:53-176:55" name="url" xsi:type="OperandRef"/>
            </operand>
         </expression>
         <operand name="domainResource">
            <operandTypeSpecifier localId="380" locator="175:50-175:63" name="fhir:DomainResource" xsi:type="NamedTypeSpecifier"/>
         </operand>
         <operand name="url">
            <operandTypeSpecifier localId="381" locator="175:70-175:75" name="t:String" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="398" locator="183:1-186:10" name="ModifierExtensions" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="398">
               <a:s>define function ModifierExtensions(element </a:s>
               <a:s r="387">
                  <a:s>BackboneElement</a:s>
               </a:s>
               <a:s>, url </a:s>
               <a:s r="388">
                  <a:s>String</a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="397">
                  <a:s r="397">
                     <a:s>
                        <a:s r="390">
                           <a:s r="389">
                              <a:s>
                                 <a:s>element.modifierExtension</a:s>
                              </a:s>
                           </a:s>
                           <a:s> E</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
	  </a:s>
                     <a:s r="394">
                        <a:s>where </a:s>
                        <a:s r="394">
                           <a:s r="392">
                              <a:s r="391">
                                 <a:s>E</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="392">
                                 <a:s>url</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="393">
                              <a:s>url</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
		</a:s>
                     <a:s r="396">
                        <a:s>return </a:s>
                        <a:s r="395">
                           <a:s>E</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="397" locator="184:3-186:10" xsi:type="Query">
            <source localId="390" locator="184:3-184:29" alias="E">
               <expression localId="389" locator="184:3-184:27" path="modifierExtension" xsi:type="Property">
                  <source name="element" xsi:type="OperandRef"/>
               </expression>
            </source>
            <where localId="394" locator="185:4-185:20" xsi:type="Equal">
               <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand localId="392" locator="185:10-185:14" path="url" scope="E" xsi:type="Property"/>
               </operand>
               <operand localId="393" locator="185:18-185:20" name="url" xsi:type="OperandRef"/>
            </where>
            <return localId="396" locator="186:3-186:10">
               <expression localId="395" locator="186:10" name="E" xsi:type="AliasRef"/>
            </return>
         </expression>
         <operand name="element">
            <operandTypeSpecifier localId="387" locator="183:44-183:58" name="fhir:BackboneElement" xsi:type="NamedTypeSpecifier"/>
         </operand>
         <operand name="url">
            <operandTypeSpecifier localId="388" locator="183:65-183:70" name="t:String" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="405" locator="193:1-194:49" name="ModifierExtension" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="405">
               <a:s>define function ModifierExtension(element </a:s>
               <a:s r="399">
                  <a:s>BackboneElement</a:s>
               </a:s>
               <a:s>, url </a:s>
               <a:s r="400">
                  <a:s>String</a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="404">
                  <a:s r="404">
                     <a:s>singleton from </a:s>
                     <a:s r="403">
                        <a:s>ModifierExtensions(</a:s>
                        <a:s r="401">
                           <a:s>element</a:s>
                        </a:s>
                        <a:s>, </a:s>
                        <a:s r="402">
                           <a:s>url</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="404" locator="194:3-194:49" xsi:type="SingletonFrom">
            <operand localId="403" locator="194:18-194:49" name="ModifierExtensions" xsi:type="FunctionRef">
               <operand localId="401" locator="194:37-194:43" name="element" xsi:type="OperandRef"/>
               <operand localId="402" locator="194:46-194:48" name="url" xsi:type="OperandRef"/>
            </operand>
         </expression>
         <operand name="element">
            <operandTypeSpecifier localId="399" locator="193:43-193:57" name="fhir:BackboneElement" xsi:type="NamedTypeSpecifier"/>
         </operand>
         <operand name="url">
            <operandTypeSpecifier localId="400" locator="193:64-193:69" name="t:String" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="419" locator="201:1-204:10" name="BaseExtensions" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="419">
               <a:s>define function BaseExtensions(domainResource </a:s>
               <a:s r="406">
                  <a:s>DomainResource</a:s>
               </a:s>
               <a:s>, id </a:s>
               <a:s r="407">
                  <a:s>String</a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="418">
                  <a:s r="418">
                     <a:s>
                        <a:s r="409">
                           <a:s r="408">
                              <a:s>
                                 <a:s>domainResource.extension</a:s>
                              </a:s>
                           </a:s>
                           <a:s> E</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
	  </a:s>
                     <a:s r="415">
                        <a:s>where </a:s>
                        <a:s r="415">
                           <a:s r="411">
                              <a:s r="410">
                                 <a:s>E</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="411">
                                 <a:s>url</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="414">
                              <a:s>(</a:s>
                              <a:s r="414">
                                 <a:s r="412">
                                    <a:s>'http://hl7.org/fhir/StructureDefinition/'</a:s>
                                 </a:s>
                                 <a:s> + </a:s>
                                 <a:s r="413">
                                    <a:s>id</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
		</a:s>
                     <a:s r="417">
                        <a:s>return </a:s>
                        <a:s r="416">
                           <a:s>E</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="418" locator="202:3-204:10" xsi:type="Query">
            <source localId="409" locator="202:3-202:28" alias="E">
               <expression localId="408" locator="202:3-202:26" path="extension" xsi:type="Property">
                  <source name="domainResource" xsi:type="OperandRef"/>
               </expression>
            </source>
            <where localId="415" locator="203:4-203:66" xsi:type="Equal">
               <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand localId="411" locator="203:10-203:14" path="url" scope="E" xsi:type="Property"/>
               </operand>
               <operand localId="414" locator="203:18-203:66" xsi:type="Concatenate">
                  <operand localId="412" locator="203:19-203:60" valueType="t:String" value="http://hl7.org/fhir/StructureDefinition/" xsi:type="Literal"/>
                  <operand localId="413" locator="203:64-203:65" name="id" xsi:type="OperandRef"/>
               </operand>
            </where>
            <return localId="417" locator="204:3-204:10">
               <expression localId="416" locator="204:10" name="E" xsi:type="AliasRef"/>
            </return>
         </expression>
         <operand name="domainResource">
            <operandTypeSpecifier localId="406" locator="201:47-201:60" name="fhir:DomainResource" xsi:type="NamedTypeSpecifier"/>
         </operand>
         <operand name="id">
            <operandTypeSpecifier localId="407" locator="201:66-201:71" name="t:String" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="426" locator="211:1-212:51" name="BaseExtension" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="426">
               <a:s>define function BaseExtension(domainResource </a:s>
               <a:s r="420">
                  <a:s>DomainResource</a:s>
               </a:s>
               <a:s>, id </a:s>
               <a:s r="421">
                  <a:s>String</a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="425">
                  <a:s r="425">
                     <a:s>singleton from </a:s>
                     <a:s r="424">
                        <a:s>BaseExtensions(</a:s>
                        <a:s r="422">
                           <a:s>domainResource</a:s>
                        </a:s>
                        <a:s>, </a:s>
                        <a:s r="423">
                           <a:s>id</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="425" locator="212:3-212:51" xsi:type="SingletonFrom">
            <operand localId="424" locator="212:18-212:51" name="BaseExtensions" xsi:type="FunctionRef">
               <operand localId="422" locator="212:33-212:46" name="domainResource" xsi:type="OperandRef"/>
               <operand localId="423" locator="212:49-212:50" name="id" xsi:type="OperandRef"/>
            </operand>
         </expression>
         <operand name="domainResource">
            <operandTypeSpecifier localId="420" locator="211:46-211:59" name="fhir:DomainResource" xsi:type="NamedTypeSpecifier"/>
         </operand>
         <operand name="id">
            <operandTypeSpecifier localId="421" locator="211:65-211:70" name="t:String" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="440" locator="219:1-222:10" name="BaseExtensions" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="440">
               <a:s>define function BaseExtensions(element </a:s>
               <a:s r="427">
                  <a:s>Element</a:s>
               </a:s>
               <a:s>, id </a:s>
               <a:s r="428">
                  <a:s>String</a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="439">
                  <a:s r="439">
                     <a:s>
                        <a:s r="430">
                           <a:s r="429">
                              <a:s>
                                 <a:s>element.extension</a:s>
                              </a:s>
                           </a:s>
                           <a:s> E</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
	  </a:s>
                     <a:s r="436">
                        <a:s>where </a:s>
                        <a:s r="436">
                           <a:s r="432">
                              <a:s r="431">
                                 <a:s>E</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="432">
                                 <a:s>url</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="435">
                              <a:s>(</a:s>
                              <a:s r="435">
                                 <a:s r="433">
                                    <a:s>'http://hl7.org/fhir/StructureDefinition/'</a:s>
                                 </a:s>
                                 <a:s> + </a:s>
                                 <a:s r="434">
                                    <a:s>id</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
		</a:s>
                     <a:s r="438">
                        <a:s>return </a:s>
                        <a:s r="437">
                           <a:s>E</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="439" locator="220:3-222:10" xsi:type="Query">
            <source localId="430" locator="220:3-220:21" alias="E">
               <expression localId="429" locator="220:3-220:19" path="extension" xsi:type="Property">
                  <source name="element" xsi:type="OperandRef"/>
               </expression>
            </source>
            <where localId="436" locator="221:4-221:66" xsi:type="Equal">
               <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand localId="432" locator="221:10-221:14" path="url" scope="E" xsi:type="Property"/>
               </operand>
               <operand localId="435" locator="221:18-221:66" xsi:type="Concatenate">
                  <operand localId="433" locator="221:19-221:60" valueType="t:String" value="http://hl7.org/fhir/StructureDefinition/" xsi:type="Literal"/>
                  <operand localId="434" locator="221:64-221:65" name="id" xsi:type="OperandRef"/>
               </operand>
            </where>
            <return localId="438" locator="222:3-222:10">
               <expression localId="437" locator="222:10" name="E" xsi:type="AliasRef"/>
            </return>
         </expression>
         <operand name="element">
            <operandTypeSpecifier localId="427" locator="219:40-219:46" name="fhir:Element" xsi:type="NamedTypeSpecifier"/>
         </operand>
         <operand name="id">
            <operandTypeSpecifier localId="428" locator="219:52-219:57" name="t:String" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="447" locator="229:1-230:44" name="BaseExtension" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="447">
               <a:s>define function BaseExtension(element </a:s>
               <a:s r="441">
                  <a:s>Element</a:s>
               </a:s>
               <a:s>, id </a:s>
               <a:s r="442">
                  <a:s>String</a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="446">
                  <a:s r="446">
                     <a:s>singleton from </a:s>
                     <a:s r="445">
                        <a:s>BaseExtensions(</a:s>
                        <a:s r="443">
                           <a:s>element</a:s>
                        </a:s>
                        <a:s>, </a:s>
                        <a:s r="444">
                           <a:s>id</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="446" locator="230:3-230:44" xsi:type="SingletonFrom">
            <operand localId="445" locator="230:18-230:44" name="BaseExtensions" xsi:type="FunctionRef">
               <operand localId="443" locator="230:33-230:39" name="element" xsi:type="OperandRef"/>
               <operand localId="444" locator="230:42-230:43" name="id" xsi:type="OperandRef"/>
            </operand>
         </expression>
         <operand name="element">
            <operandTypeSpecifier localId="441" locator="229:39-229:45" name="fhir:Element" xsi:type="NamedTypeSpecifier"/>
         </operand>
         <operand name="id">
            <operandTypeSpecifier localId="442" locator="229:51-229:56" name="t:String" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="461" locator="237:1-240:10" name="BaseModifierExtensions" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="461">
               <a:s>define function BaseModifierExtensions(domainResource </a:s>
               <a:s r="448">
                  <a:s>DomainResource</a:s>
               </a:s>
               <a:s>, id </a:s>
               <a:s r="449">
                  <a:s>String</a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="460">
                  <a:s r="460">
                     <a:s>
                        <a:s r="451">
                           <a:s r="450">
                              <a:s>
                                 <a:s>domainResource.modifierExtension</a:s>
                              </a:s>
                           </a:s>
                           <a:s> E</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
	  </a:s>
                     <a:s r="457">
                        <a:s>where </a:s>
                        <a:s r="457">
                           <a:s r="453">
                              <a:s r="452">
                                 <a:s>E</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="453">
                                 <a:s>url</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="456">
                              <a:s>(</a:s>
                              <a:s r="456">
                                 <a:s r="454">
                                    <a:s>'http://hl7.org/fhir/StructureDefinition/'</a:s>
                                 </a:s>
                                 <a:s> + </a:s>
                                 <a:s r="455">
                                    <a:s>id</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
		</a:s>
                     <a:s r="459">
                        <a:s>return </a:s>
                        <a:s r="458">
                           <a:s>E</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="460" locator="238:3-240:10" xsi:type="Query">
            <source localId="451" locator="238:3-238:36" alias="E">
               <expression localId="450" locator="238:3-238:34" path="modifierExtension" xsi:type="Property">
                  <source name="domainResource" xsi:type="OperandRef"/>
               </expression>
            </source>
            <where localId="457" locator="239:4-239:66" xsi:type="Equal">
               <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand localId="453" locator="239:10-239:14" path="url" scope="E" xsi:type="Property"/>
               </operand>
               <operand localId="456" locator="239:18-239:66" xsi:type="Concatenate">
                  <operand localId="454" locator="239:19-239:60" valueType="t:String" value="http://hl7.org/fhir/StructureDefinition/" xsi:type="Literal"/>
                  <operand localId="455" locator="239:64-239:65" name="id" xsi:type="OperandRef"/>
               </operand>
            </where>
            <return localId="459" locator="240:3-240:10">
               <expression localId="458" locator="240:10" name="E" xsi:type="AliasRef"/>
            </return>
         </expression>
         <operand name="domainResource">
            <operandTypeSpecifier localId="448" locator="237:55-237:68" name="fhir:DomainResource" xsi:type="NamedTypeSpecifier"/>
         </operand>
         <operand name="id">
            <operandTypeSpecifier localId="449" locator="237:74-237:79" name="t:String" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="468" locator="247:1-248:59" name="BaseModifierExtension" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="468">
               <a:s>define function BaseModifierExtension(domainResource </a:s>
               <a:s r="462">
                  <a:s>DomainResource</a:s>
               </a:s>
               <a:s>, id </a:s>
               <a:s r="463">
                  <a:s>String</a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="467">
                  <a:s r="467">
                     <a:s>singleton from </a:s>
                     <a:s r="466">
                        <a:s>BaseModifierExtensions(</a:s>
                        <a:s r="464">
                           <a:s>domainResource</a:s>
                        </a:s>
                        <a:s>, </a:s>
                        <a:s r="465">
                           <a:s>id</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="467" locator="248:3-248:59" xsi:type="SingletonFrom">
            <operand localId="466" locator="248:18-248:59" name="BaseModifierExtensions" xsi:type="FunctionRef">
               <operand localId="464" locator="248:41-248:54" name="domainResource" xsi:type="OperandRef"/>
               <operand localId="465" locator="248:57-248:58" name="id" xsi:type="OperandRef"/>
            </operand>
         </expression>
         <operand name="domainResource">
            <operandTypeSpecifier localId="462" locator="247:54-247:67" name="fhir:DomainResource" xsi:type="NamedTypeSpecifier"/>
         </operand>
         <operand name="id">
            <operandTypeSpecifier localId="463" locator="247:73-247:78" name="t:String" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="482" locator="255:1-258:10" name="BaseModifierExtensions" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="482">
               <a:s>define function BaseModifierExtensions(element </a:s>
               <a:s r="469">
                  <a:s>BackboneElement</a:s>
               </a:s>
               <a:s>, id </a:s>
               <a:s r="470">
                  <a:s>String</a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="481">
                  <a:s r="481">
                     <a:s>
                        <a:s r="472">
                           <a:s r="471">
                              <a:s>
                                 <a:s>element.modifierExtension</a:s>
                              </a:s>
                           </a:s>
                           <a:s> E</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
	  </a:s>
                     <a:s r="478">
                        <a:s>where </a:s>
                        <a:s r="478">
                           <a:s r="474">
                              <a:s r="473">
                                 <a:s>E</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="474">
                                 <a:s>url</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="477">
                              <a:s>(</a:s>
                              <a:s r="477">
                                 <a:s r="475">
                                    <a:s>'http://hl7.org/fhir/StructureDefinition/'</a:s>
                                 </a:s>
                                 <a:s> + </a:s>
                                 <a:s r="476">
                                    <a:s>id</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
		</a:s>
                     <a:s r="480">
                        <a:s>return </a:s>
                        <a:s r="479">
                           <a:s>E</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="481" locator="256:3-258:10" xsi:type="Query">
            <source localId="472" locator="256:3-256:29" alias="E">
               <expression localId="471" locator="256:3-256:27" path="modifierExtension" xsi:type="Property">
                  <source name="element" xsi:type="OperandRef"/>
               </expression>
            </source>
            <where localId="478" locator="257:4-257:66" xsi:type="Equal">
               <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand localId="474" locator="257:10-257:14" path="url" scope="E" xsi:type="Property"/>
               </operand>
               <operand localId="477" locator="257:18-257:66" xsi:type="Concatenate">
                  <operand localId="475" locator="257:19-257:60" valueType="t:String" value="http://hl7.org/fhir/StructureDefinition/" xsi:type="Literal"/>
                  <operand localId="476" locator="257:64-257:65" name="id" xsi:type="OperandRef"/>
               </operand>
            </where>
            <return localId="480" locator="258:3-258:10">
               <expression localId="479" locator="258:10" name="E" xsi:type="AliasRef"/>
            </return>
         </expression>
         <operand name="element">
            <operandTypeSpecifier localId="469" locator="255:48-255:62" name="fhir:BackboneElement" xsi:type="NamedTypeSpecifier"/>
         </operand>
         <operand name="id">
            <operandTypeSpecifier localId="470" locator="255:68-255:73" name="t:String" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="489" locator="265:1-266:52" name="BaseModifierExtension" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="489">
               <a:s>define function BaseModifierExtension(element </a:s>
               <a:s r="483">
                  <a:s>BackboneElement</a:s>
               </a:s>
               <a:s>, id </a:s>
               <a:s r="484">
                  <a:s>String</a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="488">
                  <a:s r="488">
                     <a:s>singleton from </a:s>
                     <a:s r="487">
                        <a:s>BaseModifierExtensions(</a:s>
                        <a:s r="485">
                           <a:s>element</a:s>
                        </a:s>
                        <a:s>, </a:s>
                        <a:s r="486">
                           <a:s>id</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="488" locator="266:3-266:52" xsi:type="SingletonFrom">
            <operand localId="487" locator="266:18-266:52" name="BaseModifierExtensions" xsi:type="FunctionRef">
               <operand localId="485" locator="266:41-266:47" name="element" xsi:type="OperandRef"/>
               <operand localId="486" locator="266:50-266:51" name="id" xsi:type="OperandRef"/>
            </operand>
         </expression>
         <operand name="element">
            <operandTypeSpecifier localId="483" locator="265:47-265:61" name="fhir:BackboneElement" xsi:type="NamedTypeSpecifier"/>
         </operand>
         <operand name="id">
            <operandTypeSpecifier localId="484" locator="265:67-265:72" name="t:String" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
   </statements>
</library>
